webpackJsonp([1],{"//TE":function(t,e,n){"use strict";function a(t,e){return e.baseURL||(e.url=""+window.baseUrl+e.url),e=i()({method:t},e),l.a.request(e)}n.d(e,"a",function(){return f});var s=n("woOf"),i=n.n(s),o=n("//Fk"),r=n.n(o),c=n("mtWM"),l=n.n(c),u=n("nUgu"),d=n("IcnI");l.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",l.a.interceptors.request.use(function(t){var e=/login/i.test(t.url.substring(t.url.length-5,t.url.length)),n=d.a.getters.token,a=d.a.getters.userId;return n&&a&&!e&&(t.headers.authorization=a+"_"+n),t},function(t){return r.a.reject({code:u.a.SysError,data:t})}),l.a.interceptors.response.use(function(t){if(200===t.status&&t.data.code===u.a.Success)return t.data;if(200===t.status&&"FeatureCollection"===t.data.type)return t;var e=t.data||{},n=i()({code:u.a.SysError,msg:"操作失败！"},e);return n.errCode=n.code,-101===n.code||-102===n.code?(n.code=u.a.Overdue,n.msg="用户信息已过期，请重新登录！"):-104===n.code||-106===n.code?(n.code=u.a.NoAuth,n.msg="你无权限进行该操作，请切换用户后重试！"):n.code===u.a.Timeout?n.code=u.a.Timeout:n.code=u.a.SysError,r.a.reject(n)},function(t){var e=t.message;return"Network Error"===e?r.a.reject({code:u.a.Timeout,msg:"网络连接超时，请稍后重试！"}):/code 401/.test(e)?r.a.reject({code:u.a.Overdue,msg:"用户信息已过期，请重新登录！"}):r.a.reject({code:u.a.SysError,msg:"系统错误，请稍后重试！"})});var f={get:function(t){return a("get",t)},post:function(t){return a("post",t)},put:function(t){return a("put",t)},remove:function(t){return a("delete",t)}}},"/SpC":function(t,e,n){"use strict";var a=n("Hvql"),s=n("KxwF"),i=n.n(s),o=function(t){n("siqi")};n("VU/8")(a.a,i.a,!1,o,"data-v-5b8e4e4c",null).exports},"/v+M":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"accident-detail"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.items.length>1,expression:"items.length>1"}],staticClass:"detail-nav"},[n("ul",{staticClass:"clearfix"},t._l(t.items,function(e,a){return n("li",{class:t.curIndex===a?"selected":"",on:{click:function(e){e.stopPropagation(),t.toggleItem(a)}}},[n("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.date))])])}))]),t._v(" "),n("div",{staticClass:"detail-info mgt-20"},[n("div",{staticClass:"base-info"},[n("div",{staticClass:"info-title"},[t._v("事故基本信息")]),t._v(" "),n("div",{staticClass:"clearfix pl-15 pt-15"},[n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("发生日期:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.date))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("发生地市:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("deleteMoreNum")(t.curItem.area)))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("发生区县:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("deleteMoreNum")(t.curItem.county)))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("事故类型:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("deleteMoreNum")(t.curItem.type)))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("事故等级:")]),t._v(" "),n("span",{staticClass:"info-text color-yellow"},[t._v(t._s(t.curItem.level))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("管理分类:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.administration))])]),t._v(" "),n("div",{staticClass:"info-item-4"},[n("span",{staticClass:"info-label"},[t._v("重伤:")]),t._v(" "),n("span",{staticClass:"info-text color-red"},[t._v(t._s(t.curItem.seriousInjuryNum))])]),t._v(" "),n("div",{staticClass:"info-item-4"},[n("span",{staticClass:"info-label"},[t._v("轻伤:")]),t._v(" "),n("span",{staticClass:"info-text color-yellow"},[t._v(t._s(t.curItem.slightInjuryNum))])]),t._v(" "),n("div",{staticClass:"info-item-4"},[n("span",{staticClass:"info-label"},[t._v("死亡:")]),t._v(" "),n("span",{staticClass:"info-text color-red"},[t._v(t._s(t.curItem.deathNum))])]),t._v(" "),n("div",{staticClass:"info-item-4"},[n("span",{staticClass:"info-label"},[t._v("经济损失:")]),t._v(" "),n("span",{staticClass:"info-text color-yellow"},[t._v(t._s(t.curItem.economicalLoss)+"万")])]),t._v(" "),n("div",{staticClass:"info-item-4"},[n("span",{staticClass:"info-label"},[t._v("事故单位:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.entName))])]),t._v(" "),n("div",{staticClass:"info-item-4"},[n("span",{staticClass:"info-label"},[t._v("事故单位地址:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.entaddress))])])]),t._v(" "),n("div",{staticClass:"clearfix pl-15"},[n("div",{staticClass:"info-item-4"},[n("span",{staticClass:"info-label"},[t._v("单位规模:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.entsize))])]),t._v(" "),n("div",{staticClass:"info-item-4"},[n("span",{staticClass:"info-label"},[t._v("单位类型名称:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.enttype))])])]),t._v(" "),n("div",{staticClass:"clearfix pl-15"},[n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("所属行业:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.industryType))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("发生地点:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("deleteMoreNum")(t.curItem.scene)))])])]),t._v(" "),n("div",{staticClass:"item-flex pl-15"},[n("span",{staticClass:"info-label item-flex-label"},[t._v("事故概况:")]),t._v(" "),n("span",{staticClass:"info-text item-flex-text"},[t._v(t._s(t.curItem.accidentSituation))])])]),t._v(" "),n("div",{staticClass:"split-line"}),t._v(" "),n("div",{staticClass:"extend-info"},[n("div",{staticClass:"info-title"},[t._v("事故扩展信息")]),t._v(" "),n("div",{staticClass:"clearfix pl-15 pt-15"},[n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("是否为举报事故:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.accusation))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("起因物:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("deleteMoreNum")(t.curItem.cause)))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("致害物:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("deleteMoreNum")(t.curItem.damage)))])])]),t._v(" "),n("div",{staticClass:"clearfix pl-15"},[n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("不安全状态:")]),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("deleteMoreNum")(t.curItem.unsafeCondition)))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("事故标识:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.accidentIdentify))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("是否为中央企业:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.entCenter))])])]),t._v(" "),n("div",{staticClass:"clearfix pl-15"},[n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("不安全行为:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("deleteMoreNum")(t.curItem.unsafeAct)))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("初期上报日期:")]),t._v(" "),n("span",{staticClass:"info-text color-yellow"},[t._v(t._s(t.curItem.reportTime))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("初次入库日期:")]),t._v(" "),n("span",{staticClass:"info-text color-yellow"},[t._v(t._s(t.curItem.storageTime))])])]),t._v(" "),n("div",{staticClass:"clearfix pl-15"},[n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("报送单位地址:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.reportAddress))])]),t._v(" "),n("div",{staticClass:"info-item-3"},[n("span",{staticClass:"info-label"},[t._v("报送状态:")]),t._v(" "),n("span",{staticClass:"info-text"},[t._v(t._s(t.curItem.reportStatus))])])])])])])},staticRenderFns:[]}},"/wAz":function(t,e){},"0Uf3":function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"left-main"},[e("jContractionBox",{attrs:{title:this.moduleTitle.leftTopPart,minWidth:"24vw"}},[e("div",{attrs:{slot:"contractionBody"},slot:"contractionBody"},[e("div",{staticClass:"chart",attrs:{id:"chart1"}})])]),this._v(" "),e("jContractionBox",{attrs:{title:this.moduleTitle.leftBottomPart,minWidth:"24vw"}},[e("div",{attrs:{slot:"contractionBody"},slot:"contractionBody"},[e("div",{staticClass:"chart",attrs:{id:"chart2"}})])])],1),this._v(" "),e("div",{staticClass:"right-main"},[e("jContractionBox",{attrs:{title:this.moduleTitle.rightTopPart,minWidth:"24vw"}},[e("div",{attrs:{slot:"contractionBody"},slot:"contractionBody"},[e("div",{staticClass:"chart",attrs:{id:"chart3"}})])]),this._v(" "),e("jContractionBox",{attrs:{title:this.moduleTitle.rightBottomPart,minWidth:"24vw"}},[e("div",{attrs:{slot:"contractionBody"},slot:"contractionBody"},[e("div",{staticClass:"chart-box chart-2",attrs:{slot:"contractionBody"},slot:"contractionBody"},[e("div",{staticClass:"chart",attrs:{id:"chart4"}})])])])],1)])},staticRenderFns:[]}},"22O3":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var a=n("mvHQ"),s=n.n(a),i=n("Zrlr"),o=n.n(i),r=n("wxAW"),c=n.n(r),l=function(){function t(e){o()(this,t),this.storage="local"===e?window.localStorage:window.sessionStorage}return c()(t,[{key:"setItem",value:function(t,e){if(e){var n=s()(e);this.storage.setItem(t,n)}else this.storage.removeItem(t)}},{key:"getItem",value:function(t){var e=this.storage.getItem(t);if(e)return JSON.parse(e)}},{key:"removeItem",value:function(t){this.storage.removeItem(t)}},{key:"clear",value:function(){this.storage.clear()}}]),t}(),u={session:new l("session"),local:new l("local")}},"2Y27":function(t,e,n){"use strict";var a=n("SR0v");e.a={props:{initPageSize:{type:Number,default:15},initPageIndex:{type:Number,default:1},initShowPages:{type:Number,default:5},initTotalCount:{type:Number,default:0},initMode:{type:String,default:"full"}},data:function(){return{pageSize:this.initPageSize,pageIndex:this.initPageIndex,showPages:this.initShowPages,mode:this.initMode,totalPage:0,pages:[],skipNum:""}},watch:{initTotalCount:function(t){this.totalCount=t,this.showPages=this.initShowPages,this.reset(),this.getPages()},initPageIndex:function(t){this.pageIndex!==t&&(this.pageIndex=t,this.getPages())}},methods:{goto:function(t){t=+t,isNaN(t)?this.skipNum="":t<1||t===this.pageIndex||(t>this.totalPage?(this.pageIndex=this.totalPage,this.skipNum=this.totalPage+""):this.pageIndex=t,this.getPages(),this.$emit("pageChange",{pageIndex:this.pageIndex,pageSize:this.pageSize}),this.pageIndex+""!==this.skipNum&&""!==this.skipNum&&(this.skipNum=""))},reset:function(){this.totalPage=Math.ceil(this.totalCount/this.pageSize),this.totalPage<=1||(this.showPages>=this.totalPage?this.showPages=this.totalPage:this.mode="full")},getPages:function(){var t=[];if(this.totalPage>1){var e=Math.floor(this.showPages/2),n=Math.min(this.totalPage,this.pageIndex+e),a=Math.max(1,n-this.showPages+1);n=Math.min(this.totalPage,a+this.showPages-1);for(var s=a;s<=n;s++)t.push(s);if("full"===this.mode){var i=this.totalPage-n;if(i>2)t.push("...",this.totalPage);else{for(var o=1;o<=i;o++)t.push(n+o);for(var r=-1;r>=i-2;r--)a+r>0&&t.unshift(a+r)}}}this.pages=t}},mounted:function(){this.totalCount=this.initTotalCount,this.reset(),this.getPages()},components:{jButton:a.a}}},"2mV7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("bREw");n.d(e,"user",function(){return a.a});var s=n("fAsG");n.d(e,"common",function(){return s.a})},"38cH":function(t,e){},"3Trx":function(t,e,n){"use strict";var a=n("YvZ5"),s=n("dE6Q"),i=n.n(s),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.a=o.exports},"4ydM":function(t,e,n){"use strict";e.a={name:"layout",data:function(){return{userInfo:{},menus1:[{name:"决策分析",url:"/home",auth:"决策分析"},{name:"事故信息",url:"/list",auth:"事故信息"},{name:"全国事故趋势分析",url:"/trendAnalysis",auth:"全国事故趋势分析"}],conditions:!0}},created:function(){this.userInfo=this.$store.state.user.userInfo},methods:{loginOut:function(){var t=this;this.$store.dispatch("loginOut"),setTimeout(function(){t.$router.push("/login")},400)}}}},"5PqV":function(t,e,n){"use strict";var a=n("8L0r"),s=n("HIWO"),i=n.n(s),o=function(t){n("OPbQ")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-33919883",null);e.a=r.exports},"6+wb":function(t,e,n){"use strict";function a(t,e){e.value&&!Object(i.a)(e.value)&&(t.remove?t.remove():t.removeNode(!0))}var s=n("7+uW"),i=n("OlfU");s.a.directive("auth",{bind:a,update:a})},"7+D9":function(t,e,n){"use strict";var a=n("dH+Z"),s=n("pOb3"),i=n.n(s),o=function(t){n("vVuV")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-39526abd",null);e.a=r.exports},"80Au":function(t,e,n){"use strict"},"8L0r":function(t,e,n){"use strict";var a=n("c65j");e.a={name:"jHintBox",props:{list:Array,msg:{type:String,default:""},show:{type:Boolean,default:!1},fontClass:{type:String,default:"icon-warning"}},components:{jMsgPanel:a.a},methods:{unshow:function(){this.$emit("update:show",!1)}},mounted:function(){document.addEventListener("click",this.unshow)}}},"96Yu":function(t,e){},"991W":function(t,e){},AQOc:function(t,e,n){"use strict";e.a={props:{items:{type:Array,default:function(){return[]}}},data:function(){return{curIndex:0}},computed:{curItem:function(){return this.items[this.curIndex]?this.items[this.curIndex]:{}}},methods:{toggleItem:function(t){this.curIndex=t}}}},BcgA:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gather-container"},[n("div",{staticClass:"list-container"},[n("div",{staticClass:"table-container"},[n("div",{staticClass:"option-box clearfix"},[n("div",{staticClass:"option-level"},[n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("事故单位")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.entName,expression:"entName"}],staticClass:"input-search",attrs:{type:"text",placeholder:"请输入事故名称或关键词"},domProps:{value:t.entName},on:{input:function(e){e.target.composing||(t.entName=e.target.value)}}}),t._v(" "),n("span",{staticClass:"item i-search",on:{click:t.queryByKeyword}},[n("i",{staticClass:"icon iconfont icon-seach"})])]),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("事故等级")]),t._v(" "),n("jSelect",{ref:"levelHolder",attrs:{list:t.common.accident_levels,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("事故类型")]),t._v(" "),n("jSelect",{ref:"typeHolder",attrs:{list:t.common.accident_types,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("事故地点")]),n("span",{staticClass:"label mgl-15"},[t._v("湖北省")]),t._v(" "),n("jSelect",{ref:"areaHolder",attrs:{list:t.common.area_county,selectedIndex:t.selectedIdx,displayKey:"name"},on:{change:t.selectCounty},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}}),t._v(" "),n("span",{staticClass:"label"},[t._v("市")]),t._v(" "),n("jSelect",{ref:"countyHolder",attrs:{list:t.indexItems,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.county,callback:function(e){t.county=e},expression:"county"}}),t._v(" "),n("span",{staticClass:"label"},[t._v("区/县")])],1)]),t._v(" "),n("div",{staticClass:"mgt-20 option-level"},[n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("事故时间")]),t._v(" "),n("jDatePicker",{attrs:{options:{maxDate:t.endDate}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),n("span",{staticClass:"label mgl-8"},[t._v("- ")]),t._v(" "),n("jDatePicker",{attrs:{options:{minDate:t.startDate}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("管理分类")]),t._v(" "),n("jSelect",{ref:"manageHolder",attrs:{list:t.common.manage_type,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.administration,callback:function(e){t.administration=e},expression:"administration"}})],1),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("起因物")]),t._v(" "),n("jSelect",{ref:"causeHolder",attrs:{list:t.causeList,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.cause,callback:function(e){t.cause=e},expression:"cause"}})],1),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("致伤物")]),t._v(" "),n("jSelect",{ref:"damageHolder",attrs:{list:t.damageList,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.damage,callback:function(e){t.damage=e},expression:"damage"}})],1),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("不安全行为")]),t._v(" "),n("jSelect",{ref:"unsafeActHolder",attrs:{list:t.unsafeActList,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.unsafeAct,callback:function(e){t.unsafeAct=e},expression:"unsafeAct"}})],1)]),t._v(" "),n("div",{staticClass:"mgt-20 option-level"},[n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("报送状态")]),t._v(" "),n("jSelect",{ref:"reportStatusHolder",attrs:{list:t.reportStatusList,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.reportStatus,callback:function(e){t.reportStatus=e},expression:"reportStatus"}})],1),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("报送单位")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.submitUnit,expression:"submitUnit"}],staticClass:"input-search-w-100",attrs:{type:"text",placeholder:"请输入报送单位"},domProps:{value:t.submitUnit},on:{input:function(e){e.target.composing||(t.submitUnit=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("不安全状态")]),t._v(" "),n("jSelect",{ref:"unsafeConditionHolder",attrs:{list:t.unsafeConditionList,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.unsafeCondition,callback:function(e){t.unsafeCondition=e},expression:"unsafeCondition"}})],1),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("上报时间")]),t._v(" "),n("jDatePicker",{model:{value:t.reportTime,callback:function(e){t.reportTime=e},expression:"reportTime"}})],1),t._v(" "),n("div",{staticClass:"item fl"},[n("span",{staticClass:"label"},[t._v("入库时间")]),t._v(" "),n("jDatePicker",{model:{value:t.storageTime,callback:function(e){t.storageTime=e},expression:"storageTime"}})],1),t._v(" "),n("div",{staticClass:"item gather-btn",on:{click:t.query}},[n("i",{staticClass:"icon iconfont icon-seach"}),t._v("查询")]),t._v(" "),n("div",{staticClass:"item gather-btn",on:{click:t.reset}},[n("i",{staticClass:"icon iconfont icon-dantizhongzhi"}),t._v("重置")]),t._v(" "),n("div",{staticClass:"item gather-btn ipt-file"},[n("form",{attrs:{id:"uploadForm",enctype:"multipart/form-data",method:"post"}},[n("i",{staticClass:"icon iconfont icon-xiazai"}),t._v("导入\n              "),n("input",{ref:"fileUpdata",staticClass:"file-input",attrs:{type:"file",name:"incrementFile",accept:"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:function(e){t.fileUpdata()}}}),t._v(" "),n("input",{staticClass:"hidden-input",attrs:{type:"hidden",name:"test"}})])])])]),t._v(" "),n("div",{staticClass:"table-box"},[n("table",{staticClass:"my-table"},[n("thead",[n("tr",t._l(t.thead,function(e){return n("th",[t._v(t._s(e))])}))]),t._v(" "),n("tbody",[t._l(t.list,function(e,a){return 1===t.state.code&&t.list.length>0?n("tr",[n("td",[t._v(t._s((t.pageIndex-1)*t.initPageSize+(a+1)))]),t._v(" "),n("td",[t._v(t._s(e.date))]),t._v(" "),n("td",[t._v(t._s(t._f("deleteMoreNum")(e.area)))]),t._v(" "),n("td",[t._v(t._s(t._f("deleteMoreNum")(e.county)))]),t._v(" "),n("td",[t._v(t._s(t._f("deleteMoreNum")(e.type)))]),t._v(" "),n("td",[t._v(t._s(e.level))]),t._v(" "),n("td",[t._v(t._s(e.deathNum))]),t._v(" "),n("td",[t._v(t._s(e.seriousInjuryNum))]),t._v(" "),n("td",[t._v(t._s(e.slightInjuryNum))]),t._v(" "),n("td",[t._v(t._s(e.economicalLoss)+"万")]),t._v(" "),n("td",{attrs:{title:e.entName}},[n("div",{staticClass:"ent-name"},[t._v(t._s(e.entName))])]),t._v(" "),n("td",[t._v(t._s(e.administration))]),t._v(" "),n("td",{staticClass:"table-opt",staticStyle:{color:"yellow"},on:{click:function(n){t.showDetail(e.id)}}},[t._v("查看")])]):t._e()}),t._v(" "),n("jMyTableNoData",{attrs:{list:t.list,state:t.state,columnLength:t.columnLength}})],2)]),t._v(" "),n("div",{staticClass:"table-footer"},[t.isPager?n("Jpagination",{attrs:{initTotalCount:t.initTotalCount,initPageIndex:t.pageIndex,initPageSize:t.initPageSize},on:{pageChange:t.pageChange}}):t._e()],1)])])]),t._v(" "),n("fancyBox",{ref:"detailHolder",attrs:{show:t.showDetailHolder,width:t.width1,height:t.height1,close:t.closeDetailHolder},on:{"update:show":function(e){t.showDetailHolder=e}}},[n("span",{attrs:{slot:"head"},slot:"head"},[t._v("事故详情")]),t._v(" "),n("accidentDetail",{attrs:{slot:"body",items:t.detail},slot:"body"})],1),t._v(" "),n("jHintBox",{attrs:{show:t.isShow,msg:t.msg,fontClass:t.fontClass},on:{"update:show":function(e){t.isShow=e}}})],1)},staticRenderFns:[]}},"BeL+":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("nUgu"),s={getAccidentProportion:function(){return a.b.get({url:"/trend/getAccidentProportion"})},getAccidentDeath:function(){return a.b.get({url:"/trend/getAccidentDeath"})},getMajorAccident:function(){return a.b.get({url:"/trend/getMajorAccident"})},getAccidentRanking:function(){return a.b.get({url:"/trend/getAccidentRanking"})}}},C0kR:function(t,e,n){"use strict";var a=n("f2Yu"),s=n("qSit"),i=n.n(s),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.a=o.exports},CqqT:function(t,e){},"D/Y0":function(t,e,n){"use strict";e.a={props:{text:String,download:Boolean,fill:Boolean,sort:Boolean,small:Boolean,state:Object,disabled:Boolean,notHover:Boolean},data:function(){return{_state:{},className:{}}},watch:{download:function(){this.getClassName()},fill:function(){this.getClassName()},sort:function(){this.getClassName()},small:function(){this.getClassName()},disabled:function(){this.getClassName()},state:{handler:function(){this._state=this.state,this.getClassName()},deep:!0}},methods:{clickHandle:function(){this.sort&&(this._state.desc=!this._state.desc,this.getClassName()),this.$emit("click",this._state)},getClassName:function(){var t={"btn-export":this.download,"btn-sort":this.sort,"btn-fill":this.fill,"btn-small":this.small,"not-hover":this.notHover,disabled:this.disabled};this.sort&&void 0!==this._state.desc&&(t.desc=this._state.desc,t.asc=!t.desc),this.className=t}},created:function(){this._state=this.state||{},this.getClassName()}}},"Du/2":function(t,e,n){"use strict";n.d(e,"f",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"e",function(){return c});var a="USER_INFO",s="COM_INDUSTRIES",i="COM_ACCIDENTTYPES",o="COM_ACCIDENTLEVELS",r="COM_AREA_COUNTY",c="COM_MANAGE_TYPE"},"F+Kw":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"datepicker"},[t.isWrap?n("span",{ref:"pickrInput",staticClass:"control has-addons flatpickr"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.interVal,expression:"interVal"}],staticClass:"input",attrs:{name:t.name,placeholder:t.placeholder,type:"text","data-input":""},domProps:{value:t.interVal},on:{input:function(e){e.target.composing||(t.interVal=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),t._m(1)]):n("p",{staticClass:"control has-icon has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.interVal,expression:"interVal"}],ref:"pickrInput",staticClass:"input",attrs:{name:t.name,placeholder:t.placeholder,type:"text"},domProps:{value:t.interVal},on:{input:function(e){e.target.composing||(t.interVal=e.target.value)}}}),t._v(" "),n("i",{staticClass:"iconfont icon-date"}),t._v(" "),n("i",{staticClass:"iconfont icon-Descending",on:{click:function(e){e.preventDefault(),t.handleClear(e)}}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"button",attrs:{"data-toggle":""}},[e("i",{staticClass:"iconfont icon-date"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"button",attrs:{"data-clear":""}},[e("i",{staticClass:"iconfont icon-Descending"})])}]}},FkME:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("nUgu"),s={getMapList:function(t){return a.b.post({url:"/decision/getMapList",params:t})},getMapListOther:function(t){return a.b.post({url:"/decision/getMapListOther",params:t})}}},HIWO:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return this.show?e("div",{staticClass:"hint-box"},[e("div",{staticClass:"box-title"},[e("i",{class:["icon iconfont",this.fontClass]}),this._v("温馨提示")]),this._v(" "),e("div",{staticClass:"box-content"},[this._v(this._s(this.msg))]),this._v(" "),e("i",{staticClass:"icon iconfont icon-clear",on:{click:this.unshow}})]):this._e()},staticRenderFns:[]}},Haow:function(t,e,n){"use strict";e.a={data:function(){return{userInfo:{username:"",password:"",rememberPsw:!1},errMessage:{username:"",password:"",loginError:"",passError:""},rmMess:{username:"",password:""}}},methods:{usernameFoucs:function(){this.rmMess.username=!0},usernameBlur:function(){this.rmMess.username=!1},passwordFoucs:function(){this.rmMess.password=!0},passwordBlur:function(){this.rmMess.password=!1},clearInput:function(){this.userInfo.username="",this.userInfo.password="",this.errMessage.username="",this.errMessage.password=""},validityFn:function(){return this.userInfo.username?!!this.userInfo.password||(this.errMessage.password="密码不能为空",!1):(this.errMessage.username="用户名不能为空",!1)},login:function(){var t=this;if(!this.validityFn())return!1;this.$store.dispatch("login",{username:this.userInfo.username,password:this.userInfo.password}).then(function(e){1===e.code?(t.userInfo.rememberPsw?(localStorage.setItem("userInfoName",t.userInfo.username),localStorage.setItem("userInfoPass",t.userInfo.password)):(localStorage.removeItem("userInfoName"),localStorage.removeItem("userInfoPass")),t.userInfo=null,t.$router.push("/home")):(t.errMessage.loginError=e.msg,console.log(1))}).catch(function(e){t.errMessage.loginError=e.msg,t.errMessage.passError=!0;var n=t;n&&!n._isDestroyed&&setTimeout(function(){n&&!n._isDestroyed&&n.clearPassErr()},3e3)})},loginCheck:function(){this.userInfo.rememberPsw?this.userInfo.rememberPsw=!1:this.userInfo.rememberPsw=!0},getLocalMess:function(){return null!==localStorage.getItem("userInfoName")&&(this.userInfo.username=localStorage.getItem("userInfoName"),this.userInfo.password=localStorage.getItem("userInfoPass"),!1)},clearPassErr:function(){this.errMessage.passError=!1}},created:function(){this.getLocalMess()}}},Hvql:function(t,e,n){"use strict";e.a={name:"Loading",props:{mode:{type:String,default:"f"},loadingMsg:{type:String,default:"努力加载中......"},showMark:{type:Boolean,default:!0}}}},IcnI:function(t,e,n){"use strict";var a=n("7+uW"),s=n("NYxO"),i=n("UjVw"),o=n("mUbh"),r=n("2mV7"),c=n("ukYY");a.a.use(s.a),e.a=new s.a.Store({modules:r,getters:i.a,actions:o.a,mutations:c.a})},IzUn:function(t,e,n){"use strict";var a=n("Ndaw"),s=n("0Uf3"),i=n.n(s),o=function(t){n("CqqT")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-79f909fa",null);e.a=r.exports},KItN:function(t,e,n){t.exports=n.p+"static/image/logo.b5a48f1.png"},KxwF:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:{full:"s"!=this.mode,loading:!0}},[e("div",{staticClass:"mark"}),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader"},[e("div",{staticClass:"sk-three-bounce"},[e("div",{staticClass:"sk-child sk-bounce1"}),this._v(" "),e("div",{staticClass:"sk-child sk-bounce2"}),this._v(" "),e("div",{staticClass:"sk-child sk-bounce3"})])])}]}},LM1A:function(t,e,n){"use strict";var a=n("fo8f"),s=n("fCVn"),i=n.n(s),o=function(t){n("Z/aM")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-a05753b2",null);e.a=r.exports},LS0l:function(t,e,n){"use strict";var a=n("Dd8w"),s=n.n(a),i=n("GxBP"),o=n.n(i),r=n("VV2Z");n.n(r);e.a={props:{options:{type:Object,default:function(){return{locale:r.zh}}},name:String,placeholder:String,value:{}},data:function(){return{interVal:this.value,flatPickr:null}},computed:{isWrap:function(){return!!this.options&&!!this.options.wrap}},methods:{changeVal:function(){this.$emit("input",this.interVal)},handleClear:function(){this.flatPickr&&this.flatPickr.clear()},createFlatPickr:function(){this.flatPickr&&(this.flatPickr.destroy(),this.flatPickr=null);var t=this.$refs.pickrInput;this.flatPickr=new o.a(t,s()({},this.options,{locale:r.zh}))}},watch:{value:function(t){this.interVal=t,this.flatPickr.setDate(t)},interVal:function(t){this.interVal=t,this.$emit("input",this.interVal),this.$emit("change",this.interVal)},options:function(t,e){this.flatPickr.set("maxDate",t.maxDate),this.flatPickr.set("minDate",t.minDate)}},mounted:function(){this.createFlatPickr()},beforeDestroy:function(){this.flatPickr&&(this.flatPickr.destroy(),this.flatPickr=null)}}},M93x:function(t,e,n){"use strict";var a=n("xJD8"),s=n("gmzf"),i=n.n(s),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.a=o.exports},MYme:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a={Success:1,Loading:100,Timeout:500,NoData:200,Overdue:-101,SysError:-1,Other:1e3,NoAuth:-200}},MfYo:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return this.show?e("div",{staticClass:"fancybox"},[e("div",{staticClass:"ceng",on:{click:this.unshow}}),this._v(" "),e("div",{staticClass:"fancybox-wrap",style:{width:this.width+"px",height:this.height+"px"}},[e("h4",{staticClass:"fancybox-title"},[e("a",{staticClass:"close iconfont icon-clear",on:{click:this.unshow}}),this._v(" "),this._t("head",[this._v(this._s(this.title))])],2),this._v(" "),e("div",{staticClass:"body"},[this._t("body")],2)])]):this._e()},staticRenderFns:[]}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s=n("M93x"),i=n("j1ja"),o=(n.n(i),n("YaEn")),r=n("IcnI"),c=(n("6+wb"),n("Q0Ca"),n("991W")),l=(n.n(c),n("ksBL")),u=(n.n(l),n("/wAz")),d=(n.n(u),n("XLwt")),f=n.n(d);a.a.prototype.$echarts=f.a,a.a.config.productionTip=!1,r.a.dispatch("init").then(function(){new a.a({el:"#app",router:o.a,template:"<App/>",components:{App:s.a},store:r.a})})},NRg8:function(t,e,n){var a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-left"},[e("img",{attrs:{src:n("KItN"),alt:"",title:""}})])}];t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("header",{staticClass:"header"},[t._m(0),t._v(" "),n("div",{staticClass:"header-middle"},[n("ul",t._l(t.menus1,function(e,a){return n("router-link",{directives:[{name:"auth",rawName:"v-auth",value:e.auth,expression:"menu.auth"}],key:e.name,attrs:{"active-class":"active",to:e.url,tag:"li",value:e.name,"data-name":e.name}},[n("span",[t._v(t._s(e.name))])])}))]),t._v(" "),n("div",{staticClass:"header-right"},[n("div",{staticClass:"header-right-box"},[n("i",{staticClass:"iconfont nav-portrait"},[t._v("")]),t._v(" "),n("span",{staticClass:"user-name"},[t._v(t._s(t.userInfo.userName))]),t._v(" "),n("i",{staticClass:"iconfont nav-logout",on:{click:t.loginOut}},[t._v("")])])])]),t._v(" "),n("main",{staticClass:"container"},[n("router-view")],1)])},staticRenderFns:a}},Ndaw:function(t,e,n){"use strict";var a=n("bGai"),s=n("gyMJ"),i=n("i8WX"),o=n("hrt/");e.a={name:"trendAnalysis",components:{jContractionBox:a.e},data:function(){return{moduleTitle:{leftTopPart:"全国与湖北安全生产事故数同比变化",rightTopPart:"全国特重大事故与较大事故统计",leftBottomPart:"全国与湖北安全生产事故死亡人同比变化",rightBottomPart:"去年全国事故类型统计分析TOP8"},chart1:"",chart2:"",chart3:"",chart4:"",screenWidth:document.body.clientWidth}},watch:{screenWidth:function(t){if(!this.timer){this.screenWidth=t,this.timer=!0;var e=this;setTimeout(function(){e.timer=!1,e.chart1.resize&&e.chart1.resize(),e.chart2.resize&&e.chart2.resize(),e.chart3.resize&&e.chart3.resize(),e.chart4.resize&&e.chart4.resize()},400)}}},methods:{getAccidentProportion:function(){var t=this,e=this;s.e.getAccidentProportion().then(function(n){if(1===n.code){for(var a=t.$echarts,s=n.data.series,o=n.data.axisCategory,r=0;r<s.length;r++)s[r].stack="总量";var c=new i.LIB.LineChart({echarts:a,lineColor:["#ff006c","#f3ce47"]});c.render("chart1",s,o),c.resize(),e.chart1=c}})},getAccidentDeath:function(){var t=this,e=this;s.e.getAccidentDeath().then(function(n){if(1===n.code){for(var a=t.$echarts,s=n.data.series,o=n.data.axisCategory,r=0;r<s.length;r++)s[r].stack="总量";var c=new i.LIB.LineChart({echarts:a,lineColor:["#ff006c","#f3ce47"]});c.render("chart2",s,o),c.resize(),e.chart2=c}})},getMajorAccident:function(){var t=this,e=this;s.e.getMajorAccident().then(function(n){if(1===n.code){for(var a=t.$echarts,s=n.data.series.reverse(),o=n.data.axisCategory,r=0;r<s.length;r++)s[r].stack="总量";var c=new i.LIB.BarStack({echarts:a,barColor:["#ff006c","#f0fb3f"]});c.render("chart3",s,o),c.gradient([{startColor:"#f9016b",endColor:"#0e1555"},{startColor:"#939e45",endColor:"#0e1555"}]),c.resize(),e.chart3=c}})},getAccidentRanking:function(){var t=this;s.e.getAccidentRanking().then(function(e){1===e.code&&(t.chart4=o.a.drawChart4(t,"chart4",e.data))})}},created:function(){this.getAccidentProportion(),this.getAccidentDeath(),this.getMajorAccident(),this.getAccidentRanking()},mounted:function(){var t=this;window.onresize=function(){return window.screenWidth=document.body.clientWidth,void(t.screenWidth=window.screenWidth)}}}},OPbQ:function(t,e){},OlfU:function(t,e,n){"use strict";e.a=function(t){if(t&&(t=t.trim()),!t)return!0;for(var e=a.a.getters.modules||[],n=0;n<e.length;n++)if(e[n].trim()===t)return!0;return!1};var a=n("IcnI")},Oy0r:function(t,e){},P3YQ:function(t,e,n){"use strict";var a=n("nUgu"),s=n("C0kR"),i=n("c65j");e.a={name:"jMyTableNoData",components:{jNoData:s.a,jMsgPanel:i.a},props:{columnLength:{type:Number,default:12},list:Array,state:Object},data:function(){return{}},render:function(t){return this.state.code===a.a.Loading?t("tr",{class:"myTable-noData"},[t("td",{attrs:{colspan:this.columnLength}},[t("jMsgPanel",{attrs:{msg:"正在查询... "}},[])])]):this.state.code===a.a.Other||this.state.code===a.a.SysError||this.state.code===a.a.Timeout||this.state.code===a.a.Overdue?t("tr",{class:"myTable-noData"},[t("td",{attrs:{colspan:this.columnLength}},[t("jMsgPanel",{attrs:{msg:this.state.msg}},[])])]):0===this.list.length?this.state.code===a.a.Success?t("tr",{class:"myTable-noData"},[t("td",{attrs:{colspan:this.columnLength}},[t("jNoData",null,[])])]):t("tr",{class:"myTable-noData"},[t("td",{attrs:{colspan:this.columnLength}},[t("jMsgPanel",{attrs:{msg:"请联系管理员... "}},[])])]):void 0}}},"PX/U":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.totalPage>1?n("div",{staticClass:"paging"},[n("ul",[n("li",[n("a",{class:["first page-turn-btn",1===t.pageIndex?"unactive":""],attrs:{title:"跳转到首页"},on:{click:function(e){t.goto(1)}}},[t._v("首页")])]),t._v(" "),n("li",[n("a",{class:["page-turn-btn",1===t.pageIndex?"unactive":""],attrs:{title:"上一页"},on:{click:function(e){t.goto(t.pageIndex-1)}}},[t._v("上一页")])]),t._v(" "),n("li",[n("a",{class:["page-turn-btn",t.pageIndex===Math.ceil(t.initTotalCount/t.initPageSize)?"unactive":""],attrs:{title:"下一页"},on:{click:function(e){t.goto(t.pageIndex+1)}}},[t._v("下一页")])]),t._v(" "),n("li",[n("a",{class:["last page-turn-btn",t.pageIndex===Math.ceil(t.initTotalCount/t.initPageSize)?"unactive":""],attrs:{title:"跳转到尾页"},on:{click:function(e){t.goto(t.totalPage)}}},[t._v("尾页")])]),t._v(" "),"full"==t.mode?n("li",{staticClass:"skip"},[t._v("\n     转到"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.skipNum,expression:"skipNum"}],attrs:{type:"text"},domProps:{value:t.skipNum},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.goto(t.skipNum)},input:function(e){e.target.composing||(t.skipNum=e.target.value)}}}),t._v("页\n      "),n("jButton",{staticClass:"btn-skip",attrs:{fill:"",small:"",text:"确定"},on:{click:function(e){t.goto(t.skipNum)}}}),t._v("\n      当前第"+t._s(t.pageIndex)+"页/共"+t._s(Math.ceil(t.initTotalCount/t.initPageSize))+"页，共"+t._s(t.initTotalCount)+"条记录\n    ")],1):t._e()])]):t._e()},staticRenderFns:[]}},Q0Ca:function(t,e,n){"use strict";n("i2vQ"),n("iRwe")},RLC5:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"btn",class:this.className,on:{click:this.clickHandle}},[this._t("default",[this.download?e("i",{staticClass:"iconfont icon-export"}):this._e(),this._v(" "),this.sort?e("i",{staticClass:"iconfont icon-up"}):this._e(),this._v(" "),this.sort?e("i",{staticClass:"iconfont icon-down"}):this._e(),this._v("\n    "+this._s(this.text)+"\n  ")])],2)},staticRenderFns:[]}},SFkb:function(t,e,n){"use strict";var a=n("gyMJ"),s=n("bGai"),i=n("nUgu"),o=n("PJh5"),r=n.n(o);e.a={components:{jSelect:s.h,jDatePicker:s.f,jContractionBox:s.e,jHintBox:s.g,homePageMap:s.d},data:function(){return{isSearch:!0,accidentList:[],mapSet:{},total:0,state:{code:i.a.Loading},selectedIndex:0,countyIdx:0,startDate:"",endDate:"",preMonth:"",common:{industries:[],accident_levels:[],accident_types:[],area_county:[],manage_type:[]},county:{name:""},area:{name:""},level:{name:""},type:{name:"全部"},manageType:{name:""},accidentIndustry:{name:""},indexItems:[{id:"不限",name:"不限",index:0}],selectedIdx:0,selectedIdx2:1,defaultContent:"不限",defaultContent2:"全部",defaultContent3:"全区/县",addItem:{id:"不限",name:"不限",index:0},addItemOther:{id:"全部",name:"全部",index:1},addItem3:{id:"全区/县",name:"全区/县",index:1},msg:"",isShow:!1,curArea:"",curParams:{}}},created:function(){this.getCommon(),this.setRawDate(),this.query({startDate:this.startDate,endDate:this.endDate,type:"all"},0)},methods:{getCommon:function(){var t=this,e=i.c.session.getItem("industries");e?this.common.industries=this.prepend(e,this.addItem,this.addItemOther):this.$store.dispatch("getIndustries").then(function(e){1===e.code&&(t.common.industries=t.prepend(e.data,t.addItem,t.addItemOther),t.setDefaultState("accidentIndustry",t.defaultContent))});var n=i.c.session.getItem("accident_levels");n?this.common.accident_levels=this.prepend(n,this.addItem,this.addItemOther):this.$store.dispatch("getAccidentLevels").then(function(e){1===e.code&&(t.common.accident_levels=t.prepend(e.data,t.addItem,t.addItemOther),t.setDefaultState("level",t.defaultContent))});var a=i.c.session.getItem("accident_types");a?(this.common.accident_types=this.prepend(a,this.addItem,this.addItemOther),this.setDefaultState("type",this.defaultContent2)):this.$store.dispatch("getAccidentTypes").then(function(e){1===e.code&&(t.common.accident_types=t.prepend(e.data,t.addItem,t.addItemOther),t.setDefaultState("type",t.defaultContent2))});var s=i.c.session.getItem("area_county"),o={id:this.defaultContent,name:this.defaultContent,index:0,children:[this.addItem,this.addItem3]};s?this.common.area_county=this.prepend(s,o):this.$store.dispatch("getAreaCounty").then(function(e){1===e.code&&(t.common.area_county=t.prepend(e.data,o),t.setDefaultState("area",t.defaultContent))});var r=i.c.session.getItem("manage_type");r?this.common.manage_type=this.prepend(r,this.addItem,this.addItemOther):this.$store.dispatch("getManageType").then(function(e){1===e.code&&(t.common.manage_type=t.prepend(e.data,t.addItem,t.addItemOther),t.setDefaultState("manageType",t.defaultContent))})},setDefaultState:function(t,e){var n=this;setTimeout(function(){n.$refs[t+"Holder"].text=e},50)},findAreaInfo:function(t){var e=t||{name:""},n=this.curParams,a=n.area||this.curArea,s={};for(var i in n)s[i]=n[i];!a||"all"!==a&&"allcity"!==a&&"全市"!==a?s.county=e.name:s.area=e.name,this.isSearch?this.query(s,1):this.getMapListOther(s,1)},setRawDate:function(){this.startDate=r()().add(-1,"month").format("YYYY-MM")+"-01",this.endDate=r()(this.startDate).endOf("month").format("YYYY-MM-DD"),this.preMonth=r()().get("month")>0?r()().get("month"):12},prepend:function(t,e,n){t=t||[];var a=[],s=1;n&&(s=2);for(var i=0;i<t.length;i++){var o={id:t[i].id,name:t[i].name,index:i+s};t[i].children&&(o.children=t[i].children),a.push(o)}return void 0!==a[0]&&a[0].name!==this.defaultContent?(n&&a.unshift(n),a.unshift(e)):0===a.length&&(a.push(e),n&&a.push(n)),a},selectCounty:function(t){this.countyIdx=null!=t&&null!=t.index?t.index:0;var e=null!=this.common.area_county[this.countyIdx]&&this.common.area_county[this.countyIdx].children?this.common.area_county[this.countyIdx].children:[{id:this.defaultContent,name:this.defaultContent}];e.name===this.defaultContent?this.indexItems=this.prepend(e,this.addItem,this.addItem3):this.indexItems=this.prepend(e,this.addItem),this.resetCounty()},resetCounty:function(){var t=this;setTimeout(function(){t.$refs.countyHolder&&(t.$refs.countyHolder.clearHandle(),t.$refs.countyHolder.text=t.defaultContent)},100)},getParams:function(){var t={};""!==this.startDate&&(t.startDate=this.startDate+" 00:00:00"),""!==this.endDate&&(t.endDate=this.endDate+" 23:59:59");for(var e=["level","type","county","area","manageType","accidentIndustry"],n=0;n<e.length;n++)void 0!==this[e[n]]&&this[e[n]].id!==this.defaultContent&&""!==this[e[n]].id&&(this[e[n]].id===this.defaultContent2||this[e[n]].id===this.defaultContent3?t[e[n]]="all":t[e[n]]=this[e[n]].id);return t},setHintBox:function(t,e,n){void 0===this.accidentList||0===this.accidentList.length&&this.state.code===i.a.Success?(this.isShow=!0,this.msg=1===n?(0===e?"当前条件下":"此区域,")+"同比不存在":(0===e?"":"此区域,")+"暂无数据"):this.state.code!==i.a.Success&&(this.isShow=!0,this.msg=t.msg)},validateParams:function(t,e){var n=r()(t.startDate).get("year"),a=r()(t.endDate).get("year"),s=0,i=0,o=t.type||this.$refs.typeHolder.text;o&&o!==this.defaultContent&&o===this.defaultContent2&&(t.type="all");for(var c=["level","type","manageType","accidentIndustry"],l=0;l<c.length;l++)"all"===t[c[l]]&&s++,t[c[l]]||i++;for(var u=["area","county"],d=0;d<u.length;d++)t[u[d]]||i++;return 6===i?(this.isShow=!0,this.msg="各个维度,不能都为不限",!1):s>1?(this.isShow=!0,this.msg="筛选条件,只能包含一个全部",!1):1===e&&n!==a?(this.isShow=!0,this.msg="同比,自定义时间不能跨年",!1):t.accidentIndustry&&t.manageType?(this.isShow=!0,this.msg="管理分类、事故行业,不可同时选择",!1):(this.isShow=!1,!0)},query:function(t,e){var n=this;0===e&&(this.curParams=t),this.validateParams(t,0)&&a.b.getMapList(t).then(function(t){1===t.code&&(n.isSearch=!0,n.setMapList(t),n.total=t.data.total,0===e&&(n.curArea=t.data&&t.data.mapData&&t.data.mapData.area?t.data.mapData.area:"",n.$refs.mapHolder.updateMapData(n.mapSet,e))),n.state.code=t.code,n.setHintBox(t,e,0)}).catch(function(t){t.msg&&(n.state=t,n.isShow=!0,n.msg=t.msg)})},setMapList:function(t){this.accidentList=t.data.list,this.mapSet.total=t.data.total,this.mapSet.mapData=t.data.mapData,this.mapSet.markData=t.data.markData,this.mapSet.preMonth=this.preMonth,this.state.code=i.a.Success},search:function(){this.preMonth="",this.query(this.getParams(),0)},compare:function(){this.getMapListOther(this.getParams(),0)},getMapListOther:function(t,e){var n=this;0===e&&(this.curParams=t),this.validateParams(t,1)&&a.b.getMapListOther(t).then(function(t){1===t.code&&(n.preMonth="",n.isSearch=!1,n.total=t.data.total,n.setMapList(t),0===e&&(n.curArea=t.data&&t.data.mapData&&t.data.mapData.area?t.data.mapData.area:"",n.$refs.mapHolder.updateMapData(n.mapSet,e))),n.state.code=t.code,n.setHintBox(t,e,1)}).catch(function(t){t.msg&&(n.state=t,n.isShow=!0,n.msg=t.msg)})},reset:function(){this.startDate="",this.endDate="",this.countyIdx=0,this.indexItems=[this.addItem],this.level={name:""},this.type={name:""},this.county={name:""},this.area={name:""},this.manageType={name:""},this.accidentIndustry={name:""},this.$refs.levelHolder.clearHandle(),this.$refs.typeHolder.clearHandle(),this.$refs.areaHolder.clearHandle(),this.$refs.manageTypeHolder.clearHandle(),this.$refs.accidentIndustryHolder.clearHandle(),this.$refs.levelHolder.text=this.defaultContent,this.$refs.typeHolder.text=this.defaultContent2,this.$refs.areaHolder.text=this.defaultContent,this.$refs.manageTypeHolder.text=this.defaultContent,this.$refs.accidentIndustryHolder.text=this.defaultContent,this.resetCounty(),this.setRawDate(),this.query({startDate:this.startDate,endDate:this.endDate,type:"all"},0)}}}},SR0v:function(t,e,n){"use strict";var a=n("D/Y0"),s=n("RLC5"),i=n.n(s),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.a=o.exports},TnnM:function(t,e,n){"use strict";e.a={name:"jMsgPanel",props:["msg"]}},UjVw:function(t,e,n){"use strict";e.a={}},VxUd:function(t,e){},"W+FH":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("nUgu"),s={getDataCollection:function(t){return a.b.post({url:"/list/getDataCollection",params:t})},getCause:function(){return a.b.get({url:"/list/getCause"})},getDamage:function(){return a.b.get({url:"/list/getDamage"})},getUnsafeAct:function(){return a.b.get({url:"/list/getUnsafeAct"})},getUnsafeCondition:function(){return a.b.get({url:"/list/getUnsafeCondition"})},getReportStatus:function(){return a.b.get({url:"/list/getReportStatus"})}}},W2Q3:function(t,e,n){"use strict";var a=n("Haow"),s=n("e9he"),i=n.n(s),o=function(t){n("o270")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-4d918f7a",null);e.a=r.exports},YaEn:function(t,e,n){"use strict";var a=n("7+uW"),s=n("/ocq"),i=n("poSA"),o=n("W2Q3"),r=n("zKIK"),c=n("vU0c"),l=n("IzUn"),u=n("IcnI"),d=n("OlfU");a.a.use(s.a);var f=new s.a({routes:[{path:"/login",name:"login",component:o.a,meta:{requireAuth:!1}},{path:"/",name:"Layout",component:i.a,redirect:"/home",children:[{path:"home",name:"Home",component:r.a},{path:"list",name:"accidentGather",component:c.a},{path:"trendAnalysis",name:"trendAnalysis",component:l.a}]}]}),h={home:"决策分析",accidentGather:"事故信息",trendAnalysis:"全国事故趋势分析"};f.beforeEach(function(t,e,n){!1===t.meta.requireAuth||u.a.getters.token?Object(d.a)(h[t.name])&&n():n({name:"login"})}),e.a=f},YvZ5:function(t,e,n){"use strict";e.a={props:{list:{type:Array},displayKey:{type:String,default:"name"},selectedIndex:{type:Number,default:-1},initShowPanel:{type:Boolean,default:!1},blurClose:{type:Boolean,default:!0},clean:{type:Boolean,default:!1},placeholder:String,value:null},data:function(){return{text:"",options:[],showPanel:this.initShowPanel}},watch:{list:function(t,e){this.buildOptions(),this.selectValue()},initShowPanel:function(t,e){this.showPanel=t},selectedIndex:function(t,e){t>=0&&t<this.options.length&&this.select(this.options[t])}},created:function(){this.buildOptions(),document.addEventListener("click",this.close)},beforeDestroy:function(){document.removeEventListener("click",this.close)},methods:{blurHandle:function(){},focusHandle:function(t){for(var e=document.getElementsByClassName("downlist"),n=0;n<e.length;n++)e[n].setAttribute("style","display:none");(t.srcElement||t.target).parentNode.querySelector(".downlist").removeAttribute("style"),this.togglePanel(!0)},close:function(){this.togglePanel(!1)},togglePanel:function(t){this.showPanel=void 0===t?!this.showPanel:t},select:function(t){if(!t.selected){this.options&&this.options.forEach(function(t){t.selected=!1}),t.selected=!0;var e=t.text;e&&(e=e.replace(/[0-9]/g,"")),this.text=e,this.$emit("input",t.data),this.$emit("change",t.data)}this.togglePanel(!1)},selectValue:function(){var t=this,e={selected:!1,text:""};if(this.options){var n=this.options.findIndex(function(e){return e.data===t.value});n>=0&&(e=this.option[n])}this.select(e)},buildOptions:function(){var t=this,e=[];if(this.list){var n=(e=this.list.map(function(e){return{text:t.displayKey?e[t.displayKey]:e.toString(),data:e,selected:!1}}))[this.selectedIndex];n&&this.select(n)}this.options=e},clearHandle:function(){this.select({})}}}},"Z/aM":function(t,e){},ZRae:function(t,e,n){"use strict";var a=n("AQOc"),s=n("/v+M"),i=n.n(s),o=function(t){n("96Yu")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-6b6f3a38",null);e.a=r.exports},bGai:function(t,e,n){"use strict";n("SR0v");var a=n("3Trx"),s=(n("/SpC"),n("spLH")),i=n("uKX6"),o=(n("C0kR"),n("7+D9")),r=n("vSrg"),c=n("ZRae"),l=n("5PqV"),u=n("LM1A");n.d(e,"h",function(){return a.a}),n.d(e,"f",function(){return i.a}),n.d(e,"a",function(){return s.a}),n.d(e,"e",function(){return o.a}),n.d(e,"c",function(){return r.a}),n.d(e,"b",function(){return c.a}),n.d(e,"g",function(){return l.a}),n.d(e,"d",function(){return u.a})},bREw:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var a=n("bOdI"),s=n.n(a),i=n("Xxa5"),o=n.n(i),r=n("exGp"),c=n.n(r),l=n("gyMJ"),u=n("Du/2"),d=n("nUgu"),f={state:{userInfo:{},token:"",userId:"",modules:[]},getters:{userInfo:function(t){return t.userInfo},token:function(t){return t.token},userId:function(t){return t.userId},modules:function(t){return t.modules}},actions:{login:function(t,e){var n=this,a=t.commit;t.state,t.dispatch;return c()(o.a.mark(function t(){var s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.f.login(e);case 2:return 1===(s=t.sent).code&&(s.data.userName=e.username,a(u.f,s.data)),t.abrupt("return",s);case 5:case"end":return t.stop()}},t,n)}))()},loginOut:function(t,e){var n=this,a=t.commit;t.state,t.dispatch;return c()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.f.loginOut();case 2:return(e=t.sent)&&a(u.f,null),t.abrupt("return",e);case 5:case"end":return t.stop()}},t,n)}))()}},mutations:s()({},u.f,function(t,e){e?(t.userInfo=e,t.modules=t.userInfo.modules,t.token=t.userInfo.token,t.userId=t.userInfo.userId,d.c.session.setItem("user",t.userInfo)):(t.userInfo=null,t.token="",t.userId="",d.c.session.clear())})}},c65j:function(t,e,n){"use strict";var a=n("TnnM"),s=n("wbPH"),i=n.n(s),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.a=o.exports},dE6Q:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"dropdown",class:{"dropdown-clean":t.clean},on:{click:function(t){t.stopPropagation()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"input",attrs:{type:"text",placeholder:t.placeholder,readonly:""},domProps:{value:t.text},on:{focus:function(e){t.focusHandle(e)},blur:t.blurHandle,input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("i",{staticClass:"icon iconfont icon-Descending triangle"}),t._v(" "),n("i",{staticClass:"iconfont icon-clear",on:{click:function(e){e.stopPropagation(),t.clearHandle(e)}}}),t._v(" "),n("transition",{attrs:{name:"toggle"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPanel,expression:"showPanel"}],staticClass:"downlist"},[t._t("default",[n("ul",t._l(t.options,function(e){return n("li",{key:e.text,staticClass:"option",on:{click:function(n){n.stopPropagation(),t.select(e)}}},[t._v(t._s(t._f("deleteMoreNum")(e.text)))])}))])],2)])],1)},staticRenderFns:[]}},"dH+Z":function(t,e,n){"use strict";e.a={name:"jContractionBox",props:{direction:{type:String,default:"left"},title:{type:String,default:""},minWidth:{type:String,default:""},bodyStyle:{type:String,default:""}},data:function(){return{isContraction:!1,width:"auto"}},methods:{contractBox:function(){this.isContraction=!this.isContraction,0===this.width?this.width="auto":this.width=0}}}},e9he:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"login-bg"},[n("div",{staticClass:"login-header"},[t._v("\n\t\t\t\t用户登录\n\t\t\t")]),t._v(" "),n("div",{staticClass:"login-main"},[n("div",{staticClass:"login-name",class:{"login-foucs":t.rmMess.username}},[n("i",{staticClass:"login-name-icon iconfont"},[t._v("")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfo.username,expression:"userInfo.username",modifiers:{trim:!0}}],staticClass:"login-name-ipt",attrs:{type:"text",autocomplete:"off",placeholder:"请输入用户名"},domProps:{value:t.userInfo.username},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)},focus:t.usernameFoucs,blur:[t.usernameBlur,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.userInfo,"username",e.target.value.trim())}}}),t._v(" "),n("i",{staticClass:"login-name-remove",on:{click:t.clearInput}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"login-warning-user"},[n("p",{directives:[{name:"show",rawName:"v-show",value:""==t.userInfo.username,expression:"userInfo.username==''"}]},[t._v(t._s(t.errMessage.username))])]),t._v(" "),n("div",{staticClass:"login-password",class:{"login-foucs":t.rmMess.password}},[n("i",{staticClass:"login-pass-icon iconfont"},[t._v("")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfo.password,expression:"userInfo.password",modifiers:{trim:!0}}],staticClass:"login-pass-ipt",attrs:{type:"password",placeholder:"请输入登陆密码"},domProps:{value:t.userInfo.password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)},focus:t.passwordFoucs,blur:[t.passwordBlur,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.userInfo,"password",e.target.value.trim())}}})]),t._v(" "),n("div",{staticClass:"login-warning-pass"},[n("p",{directives:[{name:"show",rawName:"v-show",value:""==t.userInfo.password,expression:"userInfo.password==''"}]},[t._v(t._s(t.errMessage.password))])]),t._v(" "),n("div",{staticClass:"login-rmtips"},[n("div",{staticClass:"login-rmtips-checkbox",on:{click:t.loginCheck}},[t.userInfo.rememberPsw?n("span",{staticClass:"login-rmtips-checked iconfont"},[t._v("")]):t._e()]),t._v(" "),n("span",{staticClass:"login-rmtips-pass"},[t._v("记住密码")]),t._v(" "),t.errMessage.passError?n("span",{staticClass:"login-rmtips-err"},[t._v(" "+t._s(t.errMessage.loginError))]):t._e(),t._v(" "),n("span",{staticClass:"login-rmtips-tel"},[t._v("忘记密码请联系系统管理员 电话：‭13797070800‬ ")])]),t._v(" "),n("div",{staticClass:"login-btn",on:{click:t.login}},[t._v("登录")])])])])},staticRenderFns:[]}},f2Yu:function(t,e,n){"use strict";var a=n("c65j");e.a={name:"jNoData",components:{jMsgPanel:a.a}}},fAsG:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var a,s=n("bOdI"),i=n.n(s),o=n("Xxa5"),r=n.n(o),c=n("exGp"),l=n.n(c),u=n("gyMJ"),d=n("Du/2"),f=n("nUgu"),h={state:{industries:[],accident_types:[],accident_levels:[],area_county:[],manage_type:[]},getters:{industries:function(t){return t.industries},accident_types:function(t){return t.accident_types},accident_levels:function(t){return t.accident_levels},area_county:function(t){return t.area_county},manage_type:function(t){return t.manage_type}},actions:{getIndustries:function(t){var e=this,n=t.commit;t.state;return l()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getIndustries();case 2:return 1===(a=t.sent).code?n(d.d,a.data):n(d.d,[]),t.abrupt("return",a);case 5:case"end":return t.stop()}},t,e)}))()},getAccidentTypes:function(t){var e=this,n=t.commit;t.state;return l()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getAccidentTypes();case 2:return 1===(a=t.sent).code?n(d.b,a.data):n(d.b,[]),t.abrupt("return",a);case 5:case"end":return t.stop()}},t,e)}))()},getAccidentLevels:function(t){var e=this,n=t.commit;t.state;return l()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getAccidentLevels();case 2:return 1===(a=t.sent).code?n(d.a,a.data):n(d.a,[]),t.abrupt("return",a);case 5:case"end":return t.stop()}},t,e)}))()},getAreaCounty:function(t){var e=this,n=t.commit;t.state;return l()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getAreaCounty();case 2:return 1===(a=t.sent).code?n(d.c,a.data):n(d.c,[]),t.abrupt("return",a);case 5:case"end":return t.stop()}},t,e)}))()},getManageType:function(t){var e=this,n=t.commit;t.state;return l()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getManageType();case 2:return 1===(a=t.sent).code?n(d.e,a.data):n(d.e,[]),t.abrupt("return",a);case 5:case"end":return t.stop()}},t,e)}))()}},mutations:(a={},i()(a,d.d,function(t,e){e&&(t.industries=e,f.c.session.setItem("industries",e))}),i()(a,d.b,function(t,e){e&&(t.accident_types=e,f.c.session.setItem("accident_types",e))}),i()(a,d.a,function(t,e){e&&(t.accident_levels=e,f.c.session.setItem("accident_levels",e))}),i()(a,d.c,function(t,e){e&&(t.area_county=e,f.c.session.setItem("area_county",e))}),i()(a,d.e,function(t,e){e&&(t.manage_type=e,f.c.session.setItem("manage_type",e))}),a)}},fCVn:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center-map"},[n("div",{staticClass:"bg"}),t._v(" "),n("div",{ref:"chart",attrs:{id:"chart"}}),t._v(" "),n("div",{staticClass:"total"},[n("span",[t._v("总数 : ")]),n("span",[t._v(t._s(t.curTotal))])]),t._v(" "),t.preMonth?n("div",{staticClass:"month"},[n("span",[t._v(t._s(t.preMonth))]),n("span",[t._v("月")])]):t._e(),t._v(" "),n("div",{staticClass:"legend-show"},t._l(t.tags,function(e,a){return n("div",{staticClass:"legend-item"},[n("span",{style:"background-color:"+t.Accidentcolors[a]}),t._v(" "),n("span",[t._v(t._s(e))])])}))])},staticRenderFns:[]}},fo8f:function(t,e,n){"use strict";var a=n("rv8Y");e.a={name:"homePageMap",props:{mapSet:{type:Object,default:function(){return{}}},curTotal:{type:Number,default:0}},data:function(){return{total:0,preMonth:0,levelMap:{large:2,major:1,more:3,commonly:0},mapName:[{name:"黄石市",coord:[115.038962,30.201038]},{name:"鄂州市",coord:[114.894935,30.391141]},{name:"宜昌市",coord:[111.286445,30.691865]},{name:"荆门市",coord:[112.199427,31.035395]},{name:"孝感市",coord:[113.957037,30.917766]},{name:"咸宁市",coord:[114.322616,29.841362]},{name:"黄冈市",coord:[114.872199,30.453667]},{name:"武汉市",coord:[114.305469,30.593175]},{name:"随州市",coord:[113.382515,31.690191]},{name:"恩施土家族苗族自治州",coord:[109.488172,30.272156]},{name:"潜江市",coord:[112.899762,30.402167]},{name:"襄阳市",coord:[112.122426,32.009016]},{name:"神农架林区",coord:[110.675743,31.744915]},{name:"天门市",coord:[113.166078,30.663337]},{name:"仙桃市",coord:[113.423583,30.361438]},{name:"十堰市",coord:[110.799291,32.629462]},{name:"荆州市",coord:[112.239746,30.335184]}],tags:["一般","较大","重大","特别重大"],Accidentcolors:["#4effe8","#f0fb3f","#ff7011","#ff006c"],seriesData:[{name:"黄石市",coord:[115.038962,30.201038]},{name:"鄂州市",coord:[114.894935,30.391141]},{name:"宜昌市",coord:[111.286445,30.691865]},{name:"荆门市",coord:[112.199427,31.035395]},{name:"孝感市",coord:[113.957037,30.917766]},{name:"咸宁市",coord:[114.322616,29.841362]},{name:"黄冈市",coord:[114.872199,30.453667]},{name:"武汉市",coord:[114.305469,30.593175]},{name:"随州市",coord:[113.382515,31.690191]},{name:"恩施土家族苗族自治州",coord:[109.488172,30.272156]},{name:"潜江市",coord:[112.899762,30.402167]},{name:"襄阳市",coord:[112.122426,32.009016]},{name:"神农架林区",coord:[110.675743,31.744915]},{name:"天门市",coord:[113.166078,30.663337]},{name:"仙桃市",coord:[113.423583,30.361438]},{name:"十堰市",coord:[110.799291,32.629462]},{name:"荆州市",coord:[112.239746,30.335184]}],markData:[{name:"黄石市",coord:[115.038962,30.201038]},{name:"鄂州市",coord:[114.894935,30.391141]},{name:"宜昌市",coord:[111.286445,30.691865]},{name:"荆门市",coord:[112.199427,31.035395]},{name:"孝感市",coord:[113.957037,30.917766]},{name:"咸宁市",coord:[114.322616,29.841362]},{name:"黄冈市",coord:[114.872199,30.453667]},{name:"武汉市",coord:[114.305469,30.593175]},{name:"随州市",coord:[113.382515,31.690191]},{name:"恩施土家族苗族自治州",coord:[109.488172,30.272156]},{name:"潜江市",coord:[112.899762,30.402167]},{name:"襄阳市",coord:[112.122426,32.009016]},{name:"神农架林区",coord:[110.675743,31.744915]},{name:"天门市",coord:[113.166078,30.663337]},{name:"仙桃市",coord:[113.423583,30.361438]},{name:"十堰市",coord:[110.799291,32.629462]},{name:"荆州市",coord:[112.239746,30.335184]}]}},created:function(){},methods:{updateMapData:function(t,e){for(var n=t.mapData.data,a=n.length,s=[],i=0;i<a;i++){var o=n[i];o.name&&s.push({name:o.name,value:o.value?o.value:0})}this.map.seriesData=s;for(var r=t.markData,c=r.length,l=[],u=0;u<c;u++){var d=r[u];d.name&&l.push({name:d.name.replace(/[0-9]/g,""),coord:d.coord,value:Math.round(200*Math.random())+10,level:this.levelMap[d.maxType],commonly:d.commonly,_data:d._data,more:d.more,major:d.major,large:d.large,accidentId:d.accidentId})}this.map.markData=l;var f="";switch(t.mapData.area){case"all":case"allcity":f="湖北省";break;default:f=t.mapData.area}this.total=t.total,this.preMonth=t.preMonth,this.map.render(f),this.map.resize()}},mounted:function(){var t=this;t.map=new a.a({_domElement:t.$refs.chart,colors:t.Accidentcolors,tipCallBack:function(t){if("markPoint"===t.componentType){var e=t.data.msg,n="";if(e.more&&(n+="<br>特别重大事故:&nbsp;&nbsp;&nbsp;"+(e.more+" 起").fontsize(4).fontcolor("#f0fb3f")),e.large&&(n+="<br>重大事故:&nbsp;&nbsp;&nbsp;"+(e.large+" 起").fontsize(4).fontcolor("#f0fb3f")),e.major&&(n+="<br>较大事故:&nbsp;&nbsp;&nbsp;"+(e.major+" 起").fontsize(4).fontcolor("#f0fb3f")),e.commonly&&(n+="<br>一般事故:&nbsp;&nbsp;&nbsp;"+(e.commonly+" 起").fontsize(4).fontcolor("#f0fb3f")),n)return""+e.name+n}}}),t.map.on("click",function(e){"series"===e.componentType&&t.$emit("showDetail",e)}),window.addEventListener("resize",function(){t.map.resize()})},beforeDestroy:function(){}}},gmzf:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]}},gyMJ:function(t,e,n){"use strict";var a=n("xO/y");n.d(e,"c",function(){return a.a});var s=n("FkME");n.d(e,"b",function(){return s.a});var i=n("vMJZ");n.d(e,"f",function(){return i.a});var o=n("t5DY");n.d(e,"a",function(){return o.a});var r=n("W+FH");n.d(e,"d",function(){return r.a});var c=n("BeL+");n.d(e,"e",function(){return c.a})},"hrt/":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a={labelColor:"#12ffff",labelFontSize:14,drawChart4:function(t,e,n){function s(){var t=Math.ceil(1.5*f),e=10;if((t+"").length<=2)e=100;else for(var n=0;n<(t+"").length-2;n++)e*=10;return t+(e-t%e)}var i=t.$echarts.init(document.getElementById(e));n.axisCategory=n.axisCategory.map(function(t){return t.replace(/[0-9]/g,"")});for(var o=[],r=n.series.length,c=0;c<r;c++){var l={name:n.series[c].name,type:"bar",barWidth:16,barGap:16,data:n.series[c].data,itemStyle:{normal:{borderColor:"rgba(0,244,167,1)",borderWidth:1,color:new t.$echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"rgba(16,222,227,0)"},{offset:1,color:"rgba(16,222,227,1)"}],!1)}}};o.push(l)}var u=[],d=[],f=0;if(1===r){var h=[];n.series[0].data.map(function(t){t.value?h.push(t.value):h.push(t)}),f=Math.max.apply(null,h),u=n.series[0].data.map(s)}else n.series.reduce(function(t,e){var n=t.data.map(function(t,n){return t+e.data[n]});return d=n,{data:n}}),f=Math.max.apply(null,d),u=d.map(s);o.push({name:"",type:"bar",barWidth:16,barGap:"-100%",itemStyle:{normal:{color:"rgba(0, 96, 255,0.1)"}},data:u,label:{normal:{show:!0,color:"#ffffff",fontSize:a.labelFontSize,position:"insideRight",formatter:function(t){return 1===r?null!=n.series[0].data[t.dataIndex].value?n.series[0].data[t.dataIndex].value:n.series[0].data[t.dataIndex]:d[t.dataIndex]}}}});for(var m=[["rgba(255,0,108,0)","rgba(255,0,108,1)"],["rgba(240,251,63,0)","rgba(240,251,63,1)"],["rgba(63,251,129,0)","rgba(63,251,129,1)"]],p={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},extraCssText:"box-shadow: 8 1 3px #00feff;",borderColor:"#00feff",borderWidth:1.5,padding:[8,12,6,12],backgroundColor:"rgba(8,10,54,0.5)",formatter:function(t){var e="";return t.map(function(t,n){0===n&&(e+="<p><span>"+t.axisValue+": </span><span style='color:#f0fb3f'>"+t.value+"起</span></p>")}),e}},grid:{top:10,left:32,right:20,bottom:0,containLabel:!0},yAxis:[{type:"category",data:n.axisCategory,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:function(t,e){return e<3?m[e][1]:a.labelColor},fontSize:a.labelFontSize,align:"left",width:10,formatter:function(t,e){return e+1+"\t\t\t\t"+t}},inverse:!0,offset:90}],xAxis:[{type:"value",splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}}],series:o},v=0;v<3;v++)p.series[0].data[v]={value:p.series[0].data[v],itemStyle:{normal:{borderColor:m[v][1],borderWidth:1,color:new t.$echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:m[v][0]},{offset:1,color:m[v][1]}],!1)}}},p.series[1].data[v]={value:p.series[1].data[v],label:{normal:{fontSize:a.labelFontSize,color:m[v][1]}}};return p.series[1].label.normal.color="#12ffff",i.setOption(p),i}}},i2vQ:function(t,e,n){"use strict";var a=n("PJh5"),s=n.n(a),i=n("7+uW");i.a.filter("dateFormat",function(t,e){if(!t)return"--";e=e||"YYYY-MM-DD";var n=s()(parseInt(t));return n.isValid()?n.format(e):"--"}),i.a.filter("dateParse",function(t,e){if(!t)return"--";e=e||"YYYY年M月";var n=s()(t);return n.isValid()?n.format(e):"--"})},i8WX:function(t,e,n){"use strict";(function(t){var e=n("c/Tr"),a=n.n(e),s=n("//Fk"),i=n.n(s),o=n("mvHQ"),r=n.n(o),c=n("C4MV"),l=n.n(c),u=n("pFYg"),d=n.n(u);!function(e,a){"object"==("undefined"==typeof exports?"undefined":d()(exports))&&"object"==d()(t)?t.exports=a():"function"==typeof define&&n("nErl")?define("LIB",[],a):"object"==("undefined"==typeof exports?"undefined":d()(exports))?exports.LIB=a():e.LIB=a()}(this,function(){return function(t){function e(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||l()(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){function a(t){return"[object Array]"===u.call(t)}function s(t){return null!==t&&"object"==(void 0===t?"undefined":d()(t))}function i(t){return"[object Function]"===u.call(t)}function o(t,e){if(null!==t&&void 0!==t)if("object"!=(void 0===t?"undefined":d()(t))&&(t=[t]),a(t))for(var n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function r(){function t(t,n){"object"==d()(e[n])&&"object"==(void 0===t?"undefined":d()(t))?e[n]=r(e[n],t):e[n]=t}for(var e={},n=0,a=arguments.length;n<a;n++)o(arguments[n],t);return e}var c=n(2),l=n(12),u=Object.prototype.toString;t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===u.call(t)},isBuffer:l,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===u.call(t)},isFile:function(t){return"[object File]"===u.call(t)},isBlob:function(t){return"[object Blob]"===u.call(t)},isFunction:i,isStream:function(t){return s(t)&&i(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:o,merge:r,extend:function(t,e,n){return o(e,function(e,a){t[a]=n&&"function"==typeof e?c(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){(function(e){function a(t,e){!s.isUndefined(t)&&s.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s=n(0),i=n(14),o={"Content-Type":"application/x-www-form-urlencoded"},c={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(4):void 0!==e&&(t=n(4)),t}(),transformRequest:[function(t,e){return i(e,"Content-Type"),s.isFormData(t)||s.isArrayBuffer(t)||s.isBuffer(t)||s.isStream(t)||s.isFile(t)||s.isBlob(t)?t:s.isArrayBufferView(t)?t.buffer:s.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):s.isObject(t)?(a(e,"application/json;charset=utf-8"),r()(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],function(t){c.headers[t]={}}),s.forEach(["post","put","patch"],function(t){c.headers[t]=s.merge(o)}),t.exports=c}).call(e,n(3))},function(t,e,n){t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return t.apply(e,n)}}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(){m&&f&&(m=!1,f.length?h=f.concat(h):p=-1,h.length&&o())}function o(){if(!m){var t=s(i);m=!0;for(var e=h.length;e;){for(f=h,h=[];++p<e;)f&&f[p].run();p=-1,e=h.length}f=null,m=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===a||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(t)}}function r(t,e){this.fun=t,this.array=e}function c(){}var l,u,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{u="function"==typeof clearTimeout?clearTimeout:a}catch(t){u=a}}();var f,h=[],m=!1,p=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new r(t,e)),1!==h.length||m||s(o)},r.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){(function(e){var a=n(0),s=n(15),o=n(17),r=n(18),c=n(19),l=n(5),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(20);t.exports=function(t){return new i.a(function(i,d){var f=t.data,h=t.headers;a.isFormData(f)&&delete h["Content-Type"];var m=new XMLHttpRequest,p="onreadystatechange",v=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in m||c(t.url)||(m=new window.XDomainRequest,p="onload",v=!0,m.onprogress=function(){},m.ontimeout=function(){}),t.auth){var g=t.auth.username||"",_=t.auth.password||"";h.Authorization="Basic "+u(g+":"+_)}if(m.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),m.timeout=t.timeout,m[p]=function(){if(m&&(4===m.readyState||v)&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in m?r(m.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?m.response:m.responseText,status:1223===m.status?204:m.status,statusText:1223===m.status?"No Content":m.statusText,headers:e,config:t,request:m};s(i,d,n),m=null}},m.onerror=function(){d(l("Network Error",t,null,m)),m=null},m.ontimeout=function(){d(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",m)),m=null},a.isStandardBrowserEnv()){var y=n(21),C=(t.withCredentials||c(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;C&&(h[t.xsrfHeaderName]=C)}if("setRequestHeader"in m&&a.forEach(h,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:m.setRequestHeader(e,t)}),t.withCredentials&&(m.withCredentials=!0),t.responseType)try{m.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&m.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){m&&(m.abort(),d(t),m=null)}),void 0===f&&(f=null),m.send(f)})}}).call(e,n(3))},function(t,e,n){var a=n(16);t.exports=function(t,e,n,s,i){var o=new Error(t);return a(o,e,n,s,i)}},function(t,e,n){t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){function a(t){this.message=t}a.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},a.prototype.__CANCEL__=!0,t.exports=a},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.BarStack=e.LineChart=e.Map=void 0;var s=a(n(9)),i=a(n(29)),o=a(n(30));e.Map=s.default,e.LineChart=i.default,e.BarStack=o.default},function(t,e,n){function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return a()(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),l()(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(10)),r=null,c=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this._domElement=void 0,this._chartInstance=void 0,this._markData=void 0,this._seriesData=void 0,this._date=void 0,this._renderSeries=!1,this._renderMark=!1,this._renderDate=!1,this._domElement=document.createElement("div"),this._domElement.style.width=e.width+"px",this._domElement.style.height=e.height+"px",r=e.echarts,this._chartInstance=r.init(this._domElement),this.option={visualMap:{min:0,max:100,inRange:{color:["#0ff","#0034f5"]},left:"left",top:"bottom",itemWidth:10,align:"left",textStyle:{color:"#12ffff"}},tooltip:{formatter:e.tipCallBack,textStyle:{color:"#fff",fontSize:16}},xAxis:{show:!1,type:"category",data:[]},yAxis:{show:!1,type:"value"},dataZoom:[{type:"inside",start:e.timeLine.start,end:e.timeLine.end},{type:"slider",textStyle:{color:"#12ffff",fontSize:14},show:!0,start:e.timeLine.start,end:e.timeLine.end,backgroundColor:"rgba(0,96,255,0.4)",height:10,borderColor:"none",fillerColor:"rgba(81,221,251,0.8)",handleIcon:"M8.2,13.6 V3.9 H6.3 v9.7 H3.1 v14.9 h3.3 v9.7 h1.8 v-9.7 h3.3 V13.6 H8.2 z",handleStyle:{color:"#f0fb3f",borderWidth:5,borderColor:"#f0fb3f"},dataBackground:{lineStyle:{color:"none",width:0},areaStyle:{color:"blue"}}}],series:[]},this._colors=e.colors}return i(t,[{key:"render",value:function(){var t=this;o.default.get("../resource/json/420000.json").then(function(e){t._registerMap(2,e.data),t._drawMap()})}},{key:"_drawMap",value:function(){var t=this.option.series[1],e=this.option.series[1].markPoint;if(this._renderSeries){t.data=[];var n=Math.max.apply(Math,s(this._seriesData.map(function(t){return t.value}))),a=Math.min.apply(Math,s(this._seriesData.map(function(t){return t.value})));this.option.visualMap.max=n,this.option.visualMap.min=a,this.option.visualMap.text=[n,a];for(var i=this._seriesData,o=0;o<i.length;o++){var r=i[o];t.data.push({name:r.name,value:r.value,msg:r,label:{normal:{show:!1},emphasis:{show:!1}}})}this._renderSeries=!1}if(this._renderMark){for(var c=this._markData,l=0;l<c.length;l++){var u=c[l];e.data.push({name:u.name,coord:u.value?u.coord.concat(u.value):this.coord,msg:u,itemStyle:{normal:{color:this._colors[u.level]},emphasis:{shadowColor:this._colors[u.level]}}})}this._renderMark=!1}this._renderDate&&(this.option.xAxis.data=this._date,this._renderDate=!1),this._chartInstance.setOption(this.option,!0,!1,!1)}},{key:"_registerMap",value:function(t,e){for(var n=this.option.series=[],a=0;a<t;a++){var s=1===a;r.registerMap("registerMap"+a,e),n.push({type:"map",mapType:"registerMap"+a,roam:!1,itemStyle:{normal:{areaColor:"#070a33"},emphasis:{areaColor:"#fa6403",shadowBlur:20,shadowColor:"#fa6403"}},layoutCenter:[50-1.5*a+"%",50-1.5*a+"%"],layoutSize:"90%",label:{normal:{show:!0,color:"#fff"},emphasis:{show:!0,color:"#fff"}},data:[],markPoint:{label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{borderColor:"#fff",borderWidth:1,shadowBlur:20}},symbol:"circle",symbolSize:15,data:[]},silent:!s})}}},{key:"on",value:function(t,e){var n=this;"click"===t?this._chartInstance.on("click",e):"timeLineChange"===t&&this._chartInstance.on("datazoom",function(t){for(var a=n.option.dataZoom,s=a.length,i=0;i<s;i++)a[i].start=t.start,a[i].end=t.end;e(t)})}},{key:"dispose",value:function(){this._chartInstance.dispose(),this._domElement.remove()}},{key:"seriesData",get:function(){return this.seriesData},set:function(t){this._seriesData=t,this._renderSeries=!0}},{key:"markData",get:function(){return this.markData},set:function(t){this._markData=t,this._renderMark=!0}},{key:"date",get:function(){return this.date},set:function(t){this._date=t,this._renderDate=!0}}]),t}();e.default=c},function(t,e,n){t.exports=n(11)},function(t,e,n){function a(t){var e=new r(t),n=o(r.prototype.request,e);return s.extend(n,r.prototype,e),s.extend(n,e),n}var s=n(0),o=n(2),r=n(13),c=n(1),l=a(c);l.Axios=r,l.create=function(t){return a(s.merge(c,t))},l.Cancel=n(7),l.CancelToken=n(27),l.isCancel=n(6),l.all=function(t){return i.a.all(t)},l.spread=n(28),t.exports=l,t.exports.default=l},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){function a(t){this.defaults=t,this.interceptors={request:new r,response:new r}}var s=n(1),o=n(0),r=n(22),c=n(23);a.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(s,this.defaults,{method:"get"},t)).method=t.method.toLowerCase();var e=[c,void 0],n=i.a.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,n,a){return this.request(o.merge(a||{},{method:t,url:e,data:n}))}}),t.exports=a},function(t,e,n){var a=n(0);t.exports=function(t,e){a.forEach(t,function(n,a){a!==e&&a.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[a])})}},function(t,e,n){var a=n(5);t.exports=function(t,e,n){var s=n.config.validateStatus;n.status&&s&&!s(n.status)?e(a("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){t.exports=function(t,e,n,a,s){return t.config=e,n&&(t.code=n),t.request=a,t.response=s,t}},function(t,e,n){function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var s=n(0);t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(s.isURLSearchParams(e))i=e.toString();else{var o=[];s.forEach(e,function(t,e){null!==t&&void 0!==t&&(s.isArray(t)&&(e+="[]"),s.isArray(t)||(t=[t]),s.forEach(t,function(t){s.isDate(t)?t=t.toISOString():s.isObject(t)&&(t=r()(t)),o.push(a(e)+"="+a(t))}))}),i=o.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){var a=n(0),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,o={};return t?(a.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=a.trim(t.substr(0,i)).toLowerCase(),n=a.trim(t.substr(i+1)),e){if(o[e]&&s.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},function(t,e,n){var a=n(0);t.exports=a.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(s.setAttribute("href",e),e=s.href),s.setAttribute("href",e),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");return e=t(window.location.href),function(n){var s=a.isString(n)?t(n):n;return s.protocol===e.protocol&&s.host===e.host}}():function(){return!0}},function(t,e,n){function a(){this.message="String contains an invalid character"}(a.prototype=new Error).code=5,a.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,s=String(t),i="",o=0,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.charAt(0|o)||(r="=",o%1);i+=r.charAt(63&e>>8-o%1*8)){if((n=s.charCodeAt(o+=.75))>255)throw new a;e=e<<8|n}return i}},function(t,e,n){var a=n(0);t.exports=a.isStandardBrowserEnv()?{write:function(t,e,n,s,i,o){var r=[];r.push(t+"="+encodeURIComponent(e)),a.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),a.isString(s)&&r.push("path="+s),a.isString(i)&&r.push("domain="+i),!0===o&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){function a(){this.handlers=[]}var s=n(0);a.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},a.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},a.prototype.forEach=function(t){s.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=a},function(t,e,n){function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var s=n(0),o=n(24),r=n(6),c=n(1),l=n(25),u=n(26);t.exports=function(t){return a(t),t.baseURL&&!l(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=s.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),s.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||c.adapter)(t).then(function(e){return a(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return r(e)||(a(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),i.a.reject(e)})}},function(t,e,n){var a=n(0);t.exports=function(t,e,n){return a.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){function a(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new i.a(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new s(t),e(n.reason))})}var s=n(7);a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var t;return{token:new a(function(e){t=e}),cancel:t}},t.exports=a},function(t,e,n){t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),l()(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),s=null,i=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this._domElement=void 0,this._chartInstance=void 0,this._series=void 0,this._domElement=document.createElement("div"),this._domElement.style.width="100%",this._domElement.style.height="100%",this._lineColor=e.lineColor,s=e.echarts,this._chartInstance=s.init(this._domElement),this.option={tooltip:{trigger:"item",formatter:function(t){return console.log(t),t.data<0?t.name+"年</br>"+t.seriesName+"<span style='color:#f0fb3f;'>减少<span style='font-size:16px;'>"+-1*t.data+"%</span></span>":t.name+"年</br>"+t.seriesName+"<span style='color:#f0fb3f;'>增加<span style='font-size:16px;'>"+t.data+"%</span></span>"}},legend:{data:[],icon:"rect",textStyle:{color:"#11e1e5"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,show:!0,data:[],axisLine:{lineStyle:{color:"#007dfd"},symbol:["none","arrow"]},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#0169da"},symbol:["none","arrow"]}},yAxis:{type:"value",textStyle:{color:"#0ebec2"},axisTick:{show:!1},axisLabel:{formatter:"{value} %"},axisLine:{lineStyle:{color:"#0169da",width:1},symbol:["none","arrow"]},splitLine:{lineStyle:{color:["#0169da"]}}},series:[]}}return a(t,[{key:"render",value:function(t,e){this._series=e,this.filterSeries(this._series,arguments.length<=2?void 0:arguments[2]),document.getElementById(t).appendChild(this._domElement),this.resize()}},{key:"filterSeries",value:function(t,e){this.option.series=t.map(function(t){return{name:t.name,type:"line",data:t.data,itemStyle:{normal:{color:"#ff0",lineStyle:{color:"#ff0"}}}}});for(var n=0;n<this.option.series.length;n++)this.option.series[n].itemStyle.normal.color=this._lineColor[n],this.option.series[n].itemStyle.normal.lineStyle.color=this._lineColor[n],this.option.legend.data[n]=this._series[n].name;this.option.xAxis.data=e,this._chartInstance.setOption(this.option)}},{key:"dispose",value:function(){this._chartInstance.dispose(),this._domElement.remove()}},{key:"resize",value:function(){this._chartInstance.resize()}}]),t}();e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),l()(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),s=null,i=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this._domElement=void 0,this._chartInstance=void 0,this._series=void 0,this._domElement=document.createElement("div"),this._barColor=e.barColor,this._domElement.style.width="100%",this._domElement.style.height="100%",s=e.echarts,this._chartInstance=s.init(this._domElement),this.option={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{b}年 <br/>{a0} : {c0}起 <br>{a1} : {c1}起"},legend:{data:[],textStyle:{color:"#11e1e5"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,data:[],axisTick:{show:!1},axisLine:{lineStyle:{color:"#007dfd"},symbol:["none","arrow"]},axisLabel:{show:!0,textStyle:{color:"#0169da"}}},yAxis:{type:"value",textStyle:{color:"#f00"},axisTick:{show:!1},axisLine:{lineStyle:{color:"#0169da",width:1},symbol:["none","arrow"]},splitLine:{lineStyle:{color:["#0169da"]}}},series:[]}}return a(t,[{key:"render",value:function(t,e){this._series=e,this.filterSeries(this._series,arguments.length<=2?void 0:arguments[2]),document.getElementById(t).appendChild(this._domElement),this.resize()}},{key:"gradient",value:function(t){for(var e=0;e<t.length;e++)this.option.series[e].itemStyle.normal.color=new s.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t[e].startColor},{offset:1,color:t[e].endColor}]);this._chartInstance.setOption(this.option)}},{key:"filterSeries",value:function(t,e){this.option.series=t.map(function(t){return{name:t.name,type:"bar",stack:t.stack,data:t.data,barWidth:"50%",itemStyle:{normal:{color:""}}}});for(var n=0;n<this.option.series.length;n++)this.option.series[n].itemStyle.normal.color=this._barColor[n],this.option.legend.data[n]=this._series[n].name;console.log(this._barColor[0]),this.option.xAxis.data=e,this._chartInstance.setOption(this.option,!0)}},{key:"dispose",value:function(){this._chartInstance.dispose(),this._domElement.remove()}},{key:"resize",value:function(){this._chartInstance.resize()}}]),t}();e.default=i}])})}).call(e,n("f1Eh")(t))},iRwe:function(t,e,n){"use strict";n("7+uW").a.filter("deleteMoreNum",function(t,e){return t?t.replace(/[0-9]/g,""):""})},jSHR:function(t,e,n){"use strict";e.a={name:"fancybox",props:{title:String,show:{type:Boolean,default:!1},width:{type:Number,default:800},height:{type:Number,default:600},close:{type:Function,default:function(){}}},data:function(){return{}},watch:{},methods:{unshow:function(){this.$emit("update:show",!1)}},mounted:function(){}}},ksBL:function(t,e){},mUbh:function(t,e,n){"use strict";var a=n("nUgu"),s=n("Du/2");e.a={init:function(t){var e=t.dispatch,n=t.commit,i=a.c.session.getItem("user");if(i&&n(s.f,i),i){var o=a.c.session.getItem("industries");o?n(s.d,o):e("getIndustries");var r=a.c.session.getItem("accident_types");r?n(s.b,r):e("getAccidentTypes");var c=a.c.session.getItem("accident_levels");c?n(s.a,c):e("getAccidentLevels");var l=a.c.session.getItem("area_county");l?n(s.c,l):e("getAreaCounty");var u=a.c.session.getItem("manage_type");u?n(s.e,u):e("getManageType")}},initCommon:function(t){var e=t.dispatch;t.commit;e("getIndustries"),e("getAccidentTypes"),e("getAccidentLevels"),e("getAreaCounty"),e("getManageType")},refresh:function(t){var e=t.commit;if(sessionStorage.getItem("user")){var n=JSON.parse(sessionStorage.getItem("user"));e(s.f,n)}}}},nUgu:function(t,e,n){"use strict";var a=n("MYme");n.d(e,"a",function(){return a.a});n("OlfU"),n("80Au");var s=n("//TE");n.d(e,"b",function(){return s.a});var i=n("22O3");n.d(e,"c",function(){return i.a})},o270:function(t,e){},pOb3:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contraction-box"},[e("div",{staticClass:"contraction-title-main align-top"},[e("p",{staticClass:"contraction-title",style:{"min-width":this.minWidth}},[this._v(this._s(this.title))])]),this._v(" "),e("div",{staticClass:"contraction-body",style:this.bodyStyle},[e("div",{staticClass:"contraction-content",style:{width:this.width}},[this._t("contractionBody")],2)])])},staticRenderFns:[]}},poSA:function(t,e,n){"use strict";var a=n("4ydM"),s=n("NRg8"),i=n.n(s),o=function(t){n("Oy0r")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-4f8ebbed",null);e.a=r.exports},qSit:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("jMsgPanel",{attrs:{msg:"暂无相关数据！"}})},staticRenderFns:[]}},rv8Y:function(t,e,n){"use strict";var a=n("Gu7T"),s=n.n(a),i=n("Zrlr"),o=n.n(i),r=n("wxAW"),c=n.n(r),l=n("XLwt"),u=n.n(l),d=n("mtWM"),f=n.n(d),h=function(){function t(e){o()(this,t),this._domElement=void 0,this._chartInstance=void 0,this._markData=void 0,this._seriesData=void 0,this._date=void 0,this._renderSeries=!1,this._renderMark=!1,this._render=!1;this._chartInstance=u.a.init(e._domElement),this.option={visualMap:{min:0,max:100,hoverLink:!1,inRange:{color:["#00f7ff","#0034CE"]},outOfRange:{color:["#00f7ff"]},right:"1%",bottom:"10%",itemWidth:10,itemHeight:50,align:"left",textStyle:{color:"#12ffff"}},tooltip:{formatter:e.tipCallBack,backgroundColor:"rgba(0, 0, 0, 0.5)",borderColor:"#12ffff",borderWidth:2,textStyle:{color:"#fff",fontSize:16},extraCssText:"z-index:999"},series:[]},this._colors=e.colors}return c()(t,[{key:"render",value:function(t){this._registerMap(1,t)}},{key:"_drawMap",value:function(t){var e=this,n=e.option.series[0],a=e.option.series[0].markPoint;if(e._renderSeries){n.data=[];var i=Math.max.apply(Math,s()(e._seriesData.map(function(t){return t.value}))),o=Math.min.apply(Math,s()(e._seriesData.map(function(t){return t.value})));e.option.visualMap.max=i,e.option.visualMap.min=o,e.option.visualMap.text=[i,o];var r=e._seriesData,c=r.length;e.option.visualMap.show=!(c<=0);for(var l=0;l<c;l++){var u=r[l];n.data.push({name:u.name,value:u.value,msg:u})}e._renderSeries=!1}if(e._renderMark){a.data=[];for(var d=e._markData,f=function(n){var s=d[n],i=t.features.find(function(t){return t.properties.name===s.name});a.data.push({name:s.name,coord:i?i.properties.cp:[],msg:s,itemStyle:{normal:{color:e._colors[s.level]},emphasis:{shadowColor:e._colors[s.level]}}})},h=0;h<d.length;h++)f(h);e._renderMark=!1}e._chartInstance.setOption(e.option,!0)}},{key:"_registerMap",value:function(t,e){var n=this,a=n.option.series=[];f.a.get("./static/json/"+{"湖北省":"420000","湖北省all":"420000-all","黄石市":"420200","鄂州市":"420700","宜昌市":"420500","荆门市":"420800","孝感市":"420900","咸宁市":"421200","黄冈市":"421100","武汉市":"420100","随州市":"421300","恩施土家族苗族自治州":"422800","潜江市":"429005","襄阳市":"420600","神农架林区":"429021","天门市":"429006","仙桃市":"429004","十堰市":"420300","荆州市":"421000"}[e]+".json").then(function(t){u.a.registerMap("map",t.data),a.push({type:"map",mapType:"map",aspectScale:1,roam:!0,itemStyle:{normal:{areaColor:"#00f7ff",borderColor:"#013fcf",borderWidth:1},emphasis:{areaColor:"#00f7ff"}},layoutCenter:["50%","45%"],layoutSize:"湖北省"===e?"150%":"auto",label:{normal:{show:!0,color:"#fff"},emphasis:{show:!0,color:"#fff"}},data:[],markPoint:{label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{shadowBlur:10,shadowColor:"#333"},emphasis:{shadowBlur:10,shadowColor:"#333"}},symbol:"circle",symbolSize:10,data:[]},silent:!1}),n._drawMap(t.data)})}},{key:"on",value:function(t,e){"click"===t&&this._chartInstance.on("click",e)}},{key:"dispose",value:function(){this._chartInstance.dispose()}},{key:"resize",value:function(){this._chartInstance.resize()}},{key:"seriesData",get:function(){return this.seriesData},set:function(t){this._seriesData=t,this._renderSeries=!0}},{key:"markData",get:function(){return this.markData},set:function(t){this._markData=t,this._renderMark=!0}}]),t}();e.a=h},sTmB:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"select-tab"},[n("div",{staticClass:"select-line1"},[n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-label"},[t._v("行政区域市")]),t._v(" "),n("jSelect",{ref:"areaHolder",attrs:{list:t.common.area_county,selectedIndex:t.selectedIdx,displayKey:"name"},on:{change:t.selectCounty},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}}),t._v(" "),n("span",{staticClass:"info-label mgl-10"},[t._v("区/县")]),t._v(" "),n("jSelect",{ref:"countyHolder",attrs:{list:t.indexItems,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.county,callback:function(e){t.county=e},expression:"county"}})],1),t._v(" "),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-label"},[t._v("事故类型")]),t._v(" "),n("jSelect",{ref:"typeHolder",attrs:{list:t.common.accident_types,selectedIndex:t.selectedIdx2,displayKey:"name"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),t._v(" "),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-label"},[t._v("事故级别")]),t._v(" "),n("jSelect",{ref:"levelHolder",attrs:{list:t.common.accident_levels,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1),t._v(" "),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-label"},[t._v("管理分类")]),t._v(" "),n("jSelect",{ref:"manageTypeHolder",attrs:{list:t.common.manage_type,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.manageType,callback:function(e){t.manageType=e},expression:"manageType"}})],1),t._v(" "),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-label"},[t._v("事故行业")]),t._v(" "),n("jSelect",{ref:"accidentIndustryHolder",attrs:{list:t.common.industries,selectedIndex:t.selectedIdx,displayKey:"name"},model:{value:t.accidentIndustry,callback:function(e){t.accidentIndustry=e},expression:"accidentIndustry"}})],1)]),t._v(" "),n("div",{staticClass:"select-line2"},[n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-label"},[t._v("自定义时间")]),t._v(" "),n("jDatePicker",{attrs:{options:{maxDate:t.endDate}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),n("span",{staticClass:"info-label mgl-10"},[t._v("至")]),t._v(" "),n("jDatePicker",{attrs:{options:{minDate:t.startDate}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),t._v(" "),n("div",{staticClass:"home-con-btn mgl-percent",on:{click:function(e){e.stopPropagation(),t.search(e)}}},[n("i",{staticClass:"icon iconfont icon-seach"}),t._v("查询")]),t._v(" "),n("div",{staticClass:"home-con-btn",on:{click:function(e){e.stopPropagation(),t.compare(e)}}},[n("i",{staticClass:"icon iconfont icon-thirdparty"}),t._v("同比")]),t._v(" "),n("div",{staticClass:"home-con-btn",on:{click:function(e){e.stopPropagation(),t.reset(e)}}},[n("i",{staticClass:"icon iconfont icon-dantizhongzhi"}),t._v("重置")])])]),t._v(" "),n("div",{staticClass:"main-bottom clearfix"},[n("div",{staticClass:"main-bottom-left"},[n("homePageMap",{ref:"mapHolder",attrs:{curTotal:t.total,mapSet:t.mapSet},on:{showDetail:t.findAreaInfo}})],1),t._v(" "),n("div",{staticClass:"main-bottom-right"},[n("jContractionBox",{staticStyle:{width:"25.5vw",height:"30vw","min-width":"316px","min-height":"372px"},attrs:{title:"决策分析结果",bodyStyle:"height:26.2vw;min-height:336px;"}},[n("div",{staticClass:"list-box",attrs:{slot:"contractionBody"},slot:"contractionBody"},[n("ul",{staticClass:"list-ul"},t._l(t.accidentList,function(e,a){return n("li",[t.isSearch?n("div",{staticClass:"list-item clearfix"},[n("p",{staticClass:"item-content"},[t._v(t._s(a+1)),n("span",{staticClass:"mgl-10"},[t._v(t._s(e.content))])]),t._v(" "),n("div",{staticClass:"item-right"},[t._v(t._s(e.value)+"起 "),n("span",{staticClass:"mgl-10"},[t._v("占比")]),n("span",{staticClass:"mgl-10"},[t._v(t._s(e.percent))])])]):n("div",{staticClass:"list-item clearfix"},[n("p",{staticClass:"item-content-long"},[t._v(t._s(e.content))])])])}))])])],1)]),t._v(" "),n("jHintBox",{attrs:{show:t.isShow,msg:t.msg},on:{"update:show":function(e){t.isShow=e}}})],1)},staticRenderFns:[]}},siqi:function(t,e){},spLH:function(t,e,n){"use strict";var a=n("2Y27"),s=n("PX/U"),i=n.n(s),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.a=o.exports},t5DY:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("nUgu"),s={getIndustries:function(){return a.b.get({url:"/common/getIndustries"})},getAccidentTypes:function(){return a.b.get({url:"/common/getAccidentTypes"})},getAccidentLevels:function(){return a.b.get({url:"/common/getAccidentLevels"})},getAreaCounty:function(){return a.b.get({url:"/common/getAreaCounty"})},getManageType:function(){return a.b.get({url:"/common/getManageType"})}}},tccT:function(t,e,n){"use strict";var a=n("P3YQ"),s=n("bGai"),i=n("gyMJ"),o=n("nUgu"),r=n("mtWM"),c=n.n(r),l=n("IcnI");e.a={name:"accidentGather",components:{Jpagination:s.a,jSelect:s.h,jDatePicker:s.f,fancyBox:s.c,accidentDetail:s.b,jMyTableNoData:a.a,jHintBox:s.g},data:function(){return{state:{code:-1,msg:""},showDetailHolder:!1,width1:960,height1:700,columnLength:13,initTotalCount:0,pageIndex:1,initPageSize:8,thead:["序号","发生日期","发生地市","发生区县","事故类型","事故等级","死亡","重伤","轻伤","经济损失","事故单位","管理分类","操作"],list:[],detail:[],startDate:"",endDate:"",reportTime:"",storageTime:"",entName:"",submitUnit:"",level:{name:""},type:{name:""},administration:{name:""},county:{name:""},area:{name:""},cause:{name:""},damage:{name:""},unsafeAct:{name:""},unsafeCondition:{name:""},reportStatus:{name:""},common:{accident_levels:[],accident_types:[],area_county:[],manage_type:[]},causeList:[],damageList:[],unsafeActList:[],unsafeConditionList:[],reportStatusList:[],selectedIdx:0,countyIdx:0,defaultContent:"不限",indexItems:[{id:"不限",name:"不限",index:0}],addItem:{id:"不限",name:"不限",index:0},params:{},isShow:!1,msg:"",fontClass:"icon-warning"}},created:function(){var t=o.c.session.getItem("accident_levels"),e=o.c.session.getItem("accident_types"),n=(o.c.session.getItem("area_county")||[]).filter(function(t){return"全市"!==t.name}),a=o.c.session.getItem("manage_type"),s={id:"不限",name:this.defaultContent,index:0,children:[this.addItem]};this.common.accident_levels=this.prepend(t,this.addItem),this.common.accident_types=this.prepend(e,this.addItem),this.common.manage_type=this.prepend(a,this.addItem),this.common.area_county=this.prepend(n,s),this.getDictionary(),this.getDataCollection()},computed:{isPager:function(){return this.list.length>0&&1===this.state.code}},methods:{getDictionary:function(){this.getCause(),this.getDamage(),this.getUnsafeAct(),this.getUnsafeCondition(),this.getReportStatus()},getCause:function(){var t=this,e=o.c.session.getItem("cause");e?t.causeList=t.prepend(e,this.addItem):i.d.getCause().then(function(e){1===e.code?t.setStorageList("cause",e.data):t.setStorageList("cause",[])}).catch(function(){t.setStorageList("cause",[])})},getDamage:function(){var t=this,e=o.c.session.getItem("damage");e?this.damageList=this.prepend(e,this.addItem):i.d.getDamage().then(function(e){1===e.code?t.setStorageList("damage",e.data):t.setStorageList("damage",[])}).catch(function(){t.setStorageList("damage",[])})},getUnsafeAct:function(){var t=this,e=o.c.session.getItem("unsafeAct");e?this.unsafeActList=this.prepend(e,this.addItem):i.d.getUnsafeAct().then(function(e){1===e.code?t.setStorageList("unsafeAct",e.data):t.setStorageList("unsafeAct",[])}).catch(function(){t.setStorageList("unsafeAct",[])})},getUnsafeCondition:function(){var t=this,e=o.c.session.getItem("unsafeCondition");e?this.unsafeConditionList=this.prepend(e,this.addItem):i.d.getUnsafeCondition().then(function(e){1===e.code?t.setStorageList("unsafeCondition",e.data):t.setStorageList("unsafeCondition",[])}).catch(function(){t.setStorageList("unsafeCondition",[])})},getReportStatus:function(){var t=this,e=o.c.session.getItem("reportStatus");e?this.reportStatusList=this.prepend(e,this.addItem):i.d.getReportStatus().then(function(e){1===e.code?t.setStorageList("reportStatus",e.data):t.setStorageList("reportStatus",[])}).catch(function(){t.setStorageList("reportStatus",[])})},setStorageList:function(t,e){this[t+"List"]=this.prepend(e,this.addItem),o.c.session.setItem(t,e);var n=this;setTimeout(function(){n.$refs[t+"Holder"].text=n.defaultContent},50)},prepend:function(t,e){t=t||[];for(var n=[],a=0;a<t.length;a++){var s={id:t[a].id,name:t[a].name,index:a+1};t[a].children&&(s.children=t[a].children),n.push(s)}return void 0!==n[0]&&n[0].name!==this.defaultContent?n.unshift(e):0===n.length&&n.push(e),n},$extend:function(t,e){for(var n=arguments.length,a=Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return a.forEach(function(n){for(var a in n){var s=n[a];t&&s instanceof Array?e[a]=this.$extend(t,[],s):t&&s instanceof Object?e[a]=this.$extend(t,e[a]||{},s):e[a]=n[a]}}),e},closeDetailHolder:function(){this.showDetailHolder=!1},queryByKeyword:function(){this.pageIndex=1;var t=this.entName.replace(/ /g,"");this.params={entName:t},this.getDataCollection(this.params)},getParams:function(){var t={entName:this.entName.replace(/ /g,""),submitUnit:this.submitUnit.replace(/ /g,"")};""!==this.startDate&&(t.startDate=this.startDate+" 00:00:00"),""!==this.endDate&&(t.endDate=this.endDate+" 23:59:59"),""!==this.reportTime&&(t.reportTime=this.reportTime),""!==this.storageTime&&(t.storageTime=this.storageTime);for(var e=["level","type","county","area","administration","cause","damage","unsafeAct","unsafeCondition","reportStatus"],n=0;n<e.length;n++)void 0!==this[e[n]]&&this[e[n]].id!==this.defaultContent&&""!==this[e[n]].id&&(t[e[n]]=this[e[n]].id);return t},query:function(){this.pageIndex=1,this.params=this.getParams(),this.getDataCollection(this.$extend(!0,{},this.params))},reset:function(){this.entName="",this.submitUnit="",this.startDate="",this.endDate="",this.reportTime="",this.storageTime="",this.pageIndex=1,this.countyIdx=0,this.params={},this.indexItems=[this.addItem],this.level={name:""},this.type={name:""},this.administration={name:""},this.county={name:""},this.area={name:""},this.$refs.levelHolder.clearHandle(),this.$refs.typeHolder.clearHandle(),this.$refs.areaHolder.clearHandle(),this.$refs.manageHolder.clearHandle(),this.$refs.causeHolder.clearHandle(),this.$refs.damageHolder.clearHandle(),this.$refs.unsafeActHolder.clearHandle(),this.$refs.unsafeConditionHolder.clearHandle(),this.$refs.reportStatusHolder.clearHandle(),this.$refs.levelHolder.text=this.defaultContent,this.$refs.typeHolder.text=this.defaultContent,this.$refs.areaHolder.text=this.defaultContent,this.$refs.manageHolder.text=this.defaultContent,this.$refs.causeHolder.text=this.defaultContent,this.$refs.damageHolder.text=this.defaultContent,this.$refs.unsafeActHolder.text=this.defaultContent,this.$refs.unsafeConditionHolder.text=this.defaultContent,this.$refs.reportStatusHolder.text=this.defaultContent,this.resetCounty(),this.getDataCollection()},pageChange:function(t){this.pageIndex=t.pageIndex,this.getDataCollection(this.params)},selectCounty:function(t){this.countyIdx=null!=t&&null!=t.index?t.index:0,this.indexItems=null!=this.common.area_county[this.countyIdx]&&this.common.area_county[this.countyIdx].children?this.common.area_county[this.countyIdx].children:[{id:this.defaultContent,name:this.defaultContent}],this.indexItems=this.prepend(this.indexItems,this.addItem),this.resetCounty()},resetCounty:function(){var t=this;setTimeout(function(){t.$refs.countyHolder&&(t.$refs.countyHolder.clearHandle(),t.$refs.countyHolder.text=t.defaultContent)},100)},showDetail:function(t){this.showDetailHolder=!0,this.getAccidentDetail(t)},getAccidentDetail:function(t){var e=this;i.c.getAccidentDetail({id:t}).then(function(t){1===t.code?e.detail=t.data:e.detail=[]}).catch(function(){e.detail=[]})},getDataCollection:function(t){var e=this,n=this.$extend(!0,{pageIndex:this.pageIndex,pageSize:this.initPageSize},t);i.d.getDataCollection(n).then(function(t){1===t.code&&(e.list=t.data,e.initTotalCount=t.total),e.state.code=t.code,e.state.msg=t.msg}).catch(function(t){e.state=t})},fileUpdata:function(){var t=this,e=this.$refs.fileUpdata.files[0];if(!/[.](xlsx|xls|xlsm|xltm)$/.test(e.name))return this.isShow=!0,this.fontClass="icon-warning",void(this.msg="请导入Excel文件");var n=l.a.getters.token,a={headers:{"Content-Type":"multipart/form-data",authorization:l.a.getters.userId+"_"+n},timeout:6e5},s=new FormData;s.append("incrementFile",e),e&&c.a.post(window.baseUrl+"/UploadExcel/upload",s,a).then(function(e){t.isShow=!0,e.code&&1===e.code?(t.fontClass="icon-hint_ok",t.msg="导入成功"):(t.fontClass="icon-warning",t.msg="导入失败")}).catch(function(){t.isShow=!0,t.fontClass="icon-warning",t.msg="导入失败"})}}}},uKX6:function(t,e,n){"use strict";var a=n("LS0l"),s=n("F+Kw"),i=n.n(s),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.a=o.exports},ukYY:function(t,e,n){"use strict";e.a={}},uslO:function(t,e,n){function a(t){return n(s(t))}function s(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};a.keys=function(){return Object.keys(i)},a.resolve=s,t.exports=a,a.id="uslO"},vMJZ:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("nUgu"),s={login:function(t){return a.b.post({url:"/author/login",params:t})},loginOut:function(){return a.b.post({url:"/author/logout"})}}},vSrg:function(t,e,n){"use strict";var a=n("jSHR"),s=n("MfYo"),i=n.n(s),o=function(t){n("38cH")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-0f11b3a4",null);e.a=r.exports},vU0c:function(t,e,n){"use strict";var a=n("tccT"),s=n("BcgA"),i=n.n(s),o=function(t){n("VxUd")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-0916de86",null);e.a=r.exports},vVuV:function(t,e){},wbPH:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nodata"},[e("i",{staticClass:"iconfont icon-jinggao1"}),this._v(" "),this._t("default",[this._v(this._s(this.msg))])],2)},staticRenderFns:[]}},xJD8:function(t,e,n){"use strict";e.a={name:"app"}},xNCz:function(t,e){},"xO/y":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("nUgu"),s={getLiveInformation:function(){return a.b.get({url:"/home/getLiveInformation"})},getBlackList:function(){return a.b.get({url:"/home/getBlackList"})},getLevelAnalysis:function(){return a.b.get({url:"/home/getLevelAnalysis"})},getPeriodStat:function(){return a.b.get({url:"/home/getPeriodStat"})},getAccidentDetail:function(t){return a.b.post({url:"/home/getAccidentDetail",params:t})},getMapAccidentDetail:function(t){return a.b.post({url:"/home/getMapAccidentDetail",params:t})},getWarningList:function(){return a.b.post({url:"/home/getWarningList"})},getIndustryAccidentAnalysis:function(){return a.b.get({url:"/home/getIndustryAccidentAnalysis"})},getIndustryTrend:function(){return a.b.get({url:"/home/getIndustryTrend"})},getGradeDistribution:function(){return a.b.get({url:"/home/getGradeDistribution"})},getMultipleIncidents:function(){return a.b.get({url:"/home/getMultipleIncidents"})},getMapData:function(t){return a.b.post({url:"/home/getMapData",params:t})}}},zKIK:function(t,e,n){"use strict";var a=n("SFkb"),s=n("sTmB"),i=n.n(s),o=function(t){n("xNCz")},r=n("VU/8")(a.a,i.a,!1,o,"data-v-ef13554c",null);e.a=r.exports}},["NHnr"]);